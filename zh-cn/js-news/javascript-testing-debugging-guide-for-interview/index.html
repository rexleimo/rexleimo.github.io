<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>面试官：你的代码怎么测试？JavaScript测试调试完全指南 | 梦兽编程</title><meta name=keywords content="JavaScript测试,单元测试,调试技巧,面试技巧,Jest,Cypress,前端测试,代码质量,TDD,断点调试"><meta name=description content="掌握JavaScript测试与调试技巧，从单元测试到E2E测试，从console.log到断点调试，成为让面试官刮目相看的专业开发者"><meta name=author content="梦兽编程"><link rel=canonical href=https://rexai.top/zh-cn/js-news/javascript-testing-debugging-guide-for-interview/><meta name=msvalidate.01 content="DFC221DBAE81D3FE5D692A4C8F3670CF"><link crossorigin=anonymous href=/assets/css/stylesheet.852d08305fd9657bd0c1817a6ba86d4d8a66d40bbd25a67d45a8f93eb25903a1.css integrity="sha256-hS0IMF/ZZXvQwYF6a6htTYpm1Au9JaZ9Raj5PrJZA6E=" rel="preload stylesheet" as=style><link rel=icon href=https://rexai.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rexai.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rexai.top/favicon-32x32.png><link rel=apple-touch-icon href=https://rexai.top/apple-touch-icon.png><link rel=mask-icon href=https://rexai.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://rexai.top/zh-cn/js-news/javascript-testing-debugging-guide-for-interview/><link rel=alternate hreflang=en href=https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>.promotion-section{margin-top:2rem;text-align:center}.promotion-section h3{margin-bottom:1.5rem;color:var(--primary);font-size:1.25rem}.qr-codes{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.qr-item{text-align:center}.qr-item img{width:150px;height:150px;border:1px solid #ddd;border-radius:8px;padding:8px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s}.qr-item img:hover{transform:scale(1.05)}.qr-item p{margin-top:.5rem;font-size:.9rem;color:var(--secondary);font-weight:500}@media(max-width:768px){.qr-codes{flex-direction:column;align-items:center;gap:1rem}.qr-item img{width:120px;height:120px}}</style><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-K6VQRF8T")</script><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=winbbryz data-description="Support me on Buy me a coffee!" data-message data-color=#FF813F data-position=Right data-x_margin=18 data-y_margin=18></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K6VQRF8T" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><meta property="og:url" content="https://rexai.top/zh-cn/js-news/javascript-testing-debugging-guide-for-interview/"><meta property="og:site_name" content="梦兽编程"><meta property="og:title" content="面试官：你的代码怎么测试？JavaScript测试调试完全指南"><meta property="og:description" content="掌握JavaScript测试与调试技巧，从单元测试到E2E测试，从console.log到断点调试，成为让面试官刮目相看的专业开发者"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="js-news"><meta property="article:published_time" content="2025-01-27T00:00:00+00:00"><meta property="article:modified_time" content="2025-01-27T00:00:00+00:00"><meta property="article:tag" content="JavaScript"><meta property="article:tag" content="测试"><meta property="article:tag" content="调试"><meta property="article:tag" content="面试"><meta property="article:tag" content="前端开发"><meta property="article:tag" content="代码质量"><meta property="og:image" content="https://rexai.top/cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rexai.top/cover.png"><meta name=twitter:title content="面试官：你的代码怎么测试？JavaScript测试调试完全指南"><meta name=twitter:description content="掌握JavaScript测试与调试技巧，从单元测试到E2E测试，从console.log到断点调试，成为让面试官刮目相看的专业开发者"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Js-News","item":"https://rexai.top/zh-cn/js-news/"},{"@type":"ListItem","position":2,"name":"面试官：你的代码怎么测试？JavaScript测试调试完全指南","item":"https://rexai.top/zh-cn/js-news/javascript-testing-debugging-guide-for-interview/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"面试官：你的代码怎么测试？JavaScript测试调试完全指南","name":"面试官：你的代码怎么测试？JavaScript测试调试完全指南","description":"掌握JavaScript测试与调试技巧，从单元测试到E2E测试，从console.log到断点调试，成为让面试官刮目相看的专业开发者","keywords":["JavaScript测试","单元测试","调试技巧","面试技巧","Jest","Cypress","前端测试","代码质量","TDD","断点调试"],"articleBody":"*面试官：“你的代码怎么测试？” 我笑了…（然后就挂了） 💡 本文亮点：从零开始掌握JavaScript测试与调试，包含单元测试、集成测试、E2E测试实战案例，以及专业的调试技巧，助你在面试中脱颖而出！\n正文 “代码写完了？很好。那么，你该如何测试它？”\n当面试官云淡风轻地抛出这个问题，你的大脑是否瞬间一片空白？你感觉自己明明实现了所有功能，逻辑天衣无缝，但就是无法证明它真的“天衣无缝”。这种感觉，就像一个绝世高手，却被问到“你的剑，锋利否？”而无法自证。\n朋友，欢迎来到真实的世界。在这里，能跑起来的代码只是“能用”，而经过测试的代码，才叫“可靠”。今天，我将赐予你一套心法，让你彻底告别“代码能跑就行”的侥幸心理，成为一名让面试官和同事都充满信赖的专业开发者。\n第一章：思想钢印 —— 为何你的代码必须被测试？ 很多新手认为，测试是多余的，是浪费时间。大错特错！测试不是功能的附属品，它本身就是产品质量的基石。\n把它想象成一位顶级大厨。他会在菜品上桌前，自己先尝一下味道。这个“尝”，就是测试。\n它能确保代码按你的剧本演出，而不是随性发挥。 它能防止你在修复一个 bug 时，悄悄制造出十个新 bug（这叫“回归测试”）。 它能让你在未来大刀阔斧地重构代码时，心中有底，脚下有根。 它构建的是一种信心，一种你对你亲手创造的代码的绝对信心。\n面试官问你为何要测试，他不是想听你背诵概念，他是想看你的眼睛里，有没有对“工程质量”这四个字的敬畏之心。\n第二章：神兵利器 —— 掌握你的测试军火库 测试不是一锅乱炖，它分层级，有章法。就像组装一台超级跑车，你得先保证每个螺丝钉都合格，再看引擎能否发动，最后才把整辆车开上赛道。\n第一层：单元测试 (Unit Test) - 拧好每一颗螺丝\n这是最基础、最核心的测试。它只关心最小的功能单元，比如一个独立的函数。它就像一个洁癖患者，把函数关在一个“小黑屋”里，隔绝所有外部依赖（比如数据库、API），只看它在给定的输入下，能否吐出预期的输出。\n比如，我们有一个平平无奇的 sum 函数：\n// sum.js function sum(a, b) { return a + b; } module.exports = sum; 它的单元测试（用流行的 Jest 框架）会是这样，像一个简单的数学验证：\n// sum.test.js const sum = require('./sum'); test('测试1加2是否等于3', () =\u003e { // 这就是“断言”，我断定 sum(1, 2) 的结果“toBe”(是) 3 expect(sum(1, 2)).toBe(3); }); 第二层：集成测试 (Integration Test) - 启动引擎\n当零件都合格了，我们得把它们组装起来，看看引擎、变速箱、电路系统能否协同工作。这就是集成测试。它测试的是多个单元模块组合在一起时的表现，比如你的业务逻辑调用数据库模块，或者前端请求后端 API。\n第三层：端到端测试 (E2E Test) - 赛道狂飙\n这是最高层级的测试，它完全模拟真实用户的使用场景。就像一个真正的赛车手，坐进驾驶舱，点火、挂挡、踩油门，在真实的赛道上跑一圈。E2E 测试会自动打开浏览器，点击按钮，填写表单，然后验证页面是否给出了正确的反馈。Cypress 就是这个领域的王者。\n面试官问你这三者的区别，是想探测你的视野。你是一个只盯着零件的工匠，还是一个能掌控全局的架构师？\n第三章：内功心法 —— 揭秘测试中的黑话 断言 (Assertion)： 这是测试的灵魂。简单说，就是你对代码行为的“预言”或“断定”。expect(A).toBe(B) 就是一个经典的断言，意思是“我期望 A 等于 B”。如果预言成真，测试通过；如果现实打脸，测试失败。\ntoBe vs toEqual： 这是 Jest 里的一个经典“陷阱”。toBe 是个严格的家伙，它用的是 ===，要求两者必须是同一个对象，内存地址都得一样。而 toEqual 则是个随和的朋友，它只关心对象的内容是不是一样，会递归地检查每个字段。\n// 对于数组和对象，你几乎总是需要用 toEqual expect([1, 2]).toEqual([1, 2]); // ✅ 通过！内容一样 expect([1, 2]).toBe([1, 2]); // ❌ 失败！这是两个不同的数组实例 模拟 (Mocks \u0026 Stubs)： 在单元测试中，为了把“被测试的函数”关进小黑屋，我们需要“假装”它的依赖存在。这时就需要“模拟对象”（Mocks）。比如，你要测试一个获取用户信息的函数，但你不想真的去请求数据库，你就可以创建一个假的数据库模块，让它直接返回你想要的用户数据。这能让你的测试变得飞快且稳定。\n测试驱动开发 (TDD)： 这是一种“先知”般的开发模式。它的流程是：\n写一个失败的测试：在写任何功能代码之前，先为它写一个测试。因为功能还没实现，这个测试理应失败。 写最少的代码让测试通过：用最简单、甚至最“丑陋”的代码，让刚才的红灯变绿。 重构：现在测试通过了，你有了安全网。开始放心地优化、重构你的代码，并时刻确保测试依然是绿色的。 TDD 是一种能逼迫你深度思考、写出高质量代码的强大纪律。\n第四章：妙手回春 —— 像侦探一样调试 Bug 即便有测试，Bug 依然是程序员的宿命。但调试 Bug 的能力，决定了你是“普通”还是“优秀”。\n当一个函数返回 undefined 时，别慌。你的武器库里至少有三件法宝：\nconsole.log() 大法：简单粗暴，但有效。在代码的关键路径上，像撒面包屑一样，把变量打印出来，看看问题出在哪一步。 断点 (Breakpoints)：这是最专业的武器。在浏览器开发者工具里，给你的代码设置一个“暂停点”。当代码执行到这里，整个世界都会为你静止。你可以从容地检查所有变量的状态，单步执行，洞察一切。 debugger; 关键字：在你的代码里直接写下 debugger;，效果和打断点一样。当浏览器执行到这里，会自动为你打开开发者工具并暂停。 面试官问你如何调试，他想看的不是你会不会 console.log，而是你有没有一套系统性的、从粗到精的排查问题的逻辑。\n第五章：飞升之路 —— 追求代码的极致 代码覆盖率 (Code Coverage)： 这是衡量你的测试“覆盖”了多少业务代码的指标。比如，Jest 可以告诉你，你的测试跑过了 80% 的代码。但请记住，100% 的覆盖率不代表 100% 没有 Bug。它只能证明你的代码被执行过，但不能证明所有逻辑分支（尤其是那些刁钻的边界条件）都被正确地测试了。追求高覆盖率是好事，但永远不要被数字蒙蔽。\n异步测试： 现代 JavaScript 离不开异步。测试异步就像拆一颗定时炸弹，你需要 async/await 和 Jest 提供的 .resolves / .rejects 来确保你能抓住那个未来的结果。\ntest('测试异步获取数据', async () =\u003e { // 我断定 fetchData() 这个 Promise 会成功 // 并且它解析出的值，应该等于 { id: 1 } await expect(fetchData()).resolves.toEqual({ id: 1 }); }); 总结：从\"能用\"到\"可靠\"的飞跃\n测试与调试，是划分程序员段位的隐形分水岭。它不是一堆工具或命令，而是一种思维方式，一种对卓越工程质量的极致追求。\n当你下一次面对\"如何测试\"这个灵魂拷问时，我希望你不再迟疑。你的回答，将不再是零散的知识点，而是一套完整的、充满自信的专业体系。\n🎯 行动指南：立即开始你的测试之旅 第一步：搭建测试环境 # 安装Jest测试框架 npm install --save-dev jest # 安装Cypress进行E2E测试 npm install --save-dev cypress 第二步：编写你的第一个测试 // calculator.js function add(a, b) { return a + b; } module.exports = { add }; // calculator.test.js const { add } = require('./calculator'); describe('计算器测试', () =\u003e { test('1 + 2 应该等于 3', () =\u003e { expect(add(1, 2)).toBe(3); }); test('负数相加', () =\u003e { expect(add(-1, -2)).toBe(-3); }); }); 第三步：掌握调试技巧 使用Chrome DevTools：F12打开，Sources标签页设置断点 VS Code调试：配置launch.json，一键调试 console.log进阶：使用console.table、console.group等 第四步：建立测试习惯 ✅ 每写一个函数，立即写测试 ✅ 修复bug前，先写重现bug的测试 ✅ 重构代码时，确保所有测试通过 ✅ 定期检查代码覆盖率 🚀 进阶资源推荐 Jest官方文档：https://jestjs.io/zh-Hans/ Cypress测试指南：https://docs.cypress.io/ Chrome DevTools调试：https://developers.google.com/web/tools/chrome-devtools 测试驱动开发实践：https://martinfowler.com/bliki/TestDrivenDevelopment.html 💬 互动讨论 你遇到过哪些测试难题？欢迎在评论区分享你的经验和困惑！\n想在技术的江湖里拥有自己的独门绝技吗？关注梦兽编程微信公众号，解锁更多黑科技。\n🔥 热门推荐：\nReact CTO的秘密：如何写出让面试官刮目相看的代码 Bun vs Rust性能大战：谁才是JavaScript的未来？ ","wordCount":"302","inLanguage":"zh-cn","image":"https://rexai.top/cover.png","datePublished":"2025-01-27T00:00:00Z","dateModified":"2025-01-27T00:00:00Z","author":{"@type":"Person","name":"梦兽编程"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rexai.top/zh-cn/js-news/javascript-testing-debugging-guide-for-interview/"},"publisher":{"@type":"Organization","name":"梦兽编程","logo":{"@type":"ImageObject","url":"https://rexai.top/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://rexai.top/zh-cn/ accesskey=h title="梦兽编程 (Alt + H)">梦兽编程</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://rexai.top/ title=:en: aria-label=:en:>En</a></li></ul></div></div><ul id=menu><li><a href=https://rexai.top/zh-cn/ title=首页><span>首页</span></a></li><li class=has-submenu><a href=https://rexai.top/zh-cn/tutorials/ title="📚 教程"><span>📚 教程</span>
<span class=submenu-toggle>▼</span></a><ul class=submenu><li><a href=https://rexai.top/zh-cn/tutorials/rust/ title=Rust>Rust</a></li><li><a href=https://rexai.top/zh-cn/tutorials/ai/ title=AI编程>AI编程</a></li></ul></li><li><a href=https://rexai.top/zh-cn/tools/ title=工具精选><span>工具精选</span></a></li><li><a href=https://rexai.top/zh-cn/news/ title="🔥 资讯"><span>🔥 资讯</span></a></li><li><a href=https://rexai.top/zh-cn/tags/ title=🏷️标签><span>🏷️标签</span></a></li><li><a href=https://rexai.top/zh-cn/categories/ title=📂分类><span>📂分类</span></a></li></ul></nav></header><style>.has-submenu{position:relative}#menu{overflow:visible !important}#menu li{overflow:visible}.submenu{position:absolute;top:100%;left:0;background:var(--theme);border:1px solid var(--border);border-radius:8px;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);min-width:180px;z-index:1000;list-style:none;display:none;padding:.5rem 0}.submenu li{display:block;margin:0;line-height:1.5}#menu .submenu li+li{margin-inline-start:0}.submenu a{display:block;padding:.75rem 1rem;color:var(--secondary);text-decoration:none;transition:all .2s ease;border-radius:0}.submenu a:hover{background:var(--entry);color:var(--primary)}.has-submenu:hover .submenu{display:block !important}.submenu-toggle{margin-left:.25rem;font-size:.75rem;transition:transform .2s ease;display:inline-block}.has-submenu:hover .submenu-toggle{transform:rotate(180deg)}@media(max-width:768px){.submenu{position:static;box-shadow:none;border:none;background:var(--entry);margin-top:0;margin-left:1rem;display:none;padding:0}.has-submenu.active .submenu{display:block}.submenu-toggle{cursor:pointer}}</style><script>window.innerWidth<=768&&document.querySelectorAll(".has-submenu").forEach(e=>{const n=e.querySelector("a"),t=e.querySelector(".submenu-toggle");t&&(t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("active")}),n.addEventListener("click",function(t){e.classList.contains("has-submenu")&&(t.preventDefault(),e.classList.toggle("active"))}))})</script><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rexai.top/zh-cn/>Home</a>&nbsp;»&nbsp;<a href=https://rexai.top/zh-cn/js-news/>Js-News</a></div><h1 class="post-title entry-hint-parent">面试官：你的代码怎么测试？JavaScript测试调试完全指南</h1><div class=post-description>掌握JavaScript测试与调试技巧，从单元测试到E2E测试，从console.log到断点调试，成为让面试官刮目相看的专业开发者</div><div class=post-meta><span title='2025-01-27 00:00:00 +0000 UTC'>January 27, 2025</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;302 words&nbsp;·&nbsp;梦兽编程&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/>En</a></li></ul></div></header><figure class=entry-cover><img loading=eager srcset='https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/cover_hu_ad624ab6fb3006e1.png 360w,https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/cover_hu_541ee7f6b96777b1.png 480w,https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/cover_hu_11ca1c82e1e8217c.png 720w,https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/cover.png 800w' src=https://rexai.top/js-news/javascript-testing-debugging-guide-for-interview/cover.png sizes="(min-width: 768px) 720px, 100vw" width=800 height=533 alt=JavaScript测试调试指南封面><figcaption>JavaScript测试与调试完全指南</figcaption></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e9%9d%a2%e8%af%95%e5%ae%98%e4%bd%a0%e7%9a%84%e4%bb%a3%e7%a0%81%e6%80%8e%e4%b9%88%e6%b5%8b%e8%af%95-%e6%88%91%e7%ac%91%e4%ba%86%e7%84%b6%e5%90%8e%e5%b0%b1%e6%8c%82%e4%ba%86 aria-label="*面试官：&ldquo;你的代码怎么测试？&rdquo; 我笑了&mldr;（然后就挂了）">*面试官：&ldquo;你的代码怎么测试？&rdquo; 我笑了&mldr;（然后就挂了）</a><ul><ul><li><a href=#%e6%ad%a3%e6%96%87 aria-label=正文>正文</a></li></ul><li><a href=#%e7%ac%ac%e4%b8%80%e7%ab%a0%e6%80%9d%e6%83%b3%e9%92%a2%e5%8d%b0--%e4%b8%ba%e4%bd%95%e4%bd%a0%e7%9a%84%e4%bb%a3%e7%a0%81%e5%bf%85%e9%a1%bb%e8%a2%ab%e6%b5%8b%e8%af%95 aria-label="第一章：思想钢印 —— 为何你的代码必须被测试？">第一章：思想钢印 —— 为何你的代码必须被测试？</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e7%ab%a0%e7%a5%9e%e5%85%b5%e5%88%a9%e5%99%a8--%e6%8e%8c%e6%8f%a1%e4%bd%a0%e7%9a%84%e6%b5%8b%e8%af%95%e5%86%9b%e7%81%ab%e5%ba%93 aria-label="第二章：神兵利器 —— 掌握你的测试军火库">第二章：神兵利器 —— 掌握你的测试军火库</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e7%ab%a0%e5%86%85%e5%8a%9f%e5%bf%83%e6%b3%95--%e6%8f%ad%e7%a7%98%e6%b5%8b%e8%af%95%e4%b8%ad%e7%9a%84%e9%bb%91%e8%af%9d aria-label="第三章：内功心法 —— 揭秘测试中的黑话">第三章：内功心法 —— 揭秘测试中的黑话</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e7%ab%a0%e5%a6%99%e6%89%8b%e5%9b%9e%e6%98%a5--%e5%83%8f%e4%be%a6%e6%8e%a2%e4%b8%80%e6%a0%b7%e8%b0%83%e8%af%95-bug aria-label="第四章：妙手回春 —— 像侦探一样调试 Bug">第四章：妙手回春 —— 像侦探一样调试 Bug</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e7%ab%a0%e9%a3%9e%e5%8d%87%e4%b9%8b%e8%b7%af--%e8%bf%bd%e6%b1%82%e4%bb%a3%e7%a0%81%e7%9a%84%e6%9e%81%e8%87%b4 aria-label="第五章：飞升之路 —— 追求代码的极致">第五章：飞升之路 —— 追求代码的极致</a></li><li><a href=#-%e8%a1%8c%e5%8a%a8%e6%8c%87%e5%8d%97%e7%ab%8b%e5%8d%b3%e5%bc%80%e5%a7%8b%e4%bd%a0%e7%9a%84%e6%b5%8b%e8%af%95%e4%b9%8b%e6%97%85 aria-label="🎯 行动指南：立即开始你的测试之旅">🎯 行动指南：立即开始你的测试之旅</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e6%90%ad%e5%bb%ba%e6%b5%8b%e8%af%95%e7%8e%af%e5%a2%83 aria-label=第一步：搭建测试环境>第一步：搭建测试环境</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e7%bc%96%e5%86%99%e4%bd%a0%e7%9a%84%e7%ac%ac%e4%b8%80%e4%b8%aa%e6%b5%8b%e8%af%95 aria-label=第二步：编写你的第一个测试>第二步：编写你的第一个测试</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e6%8e%8c%e6%8f%a1%e8%b0%83%e8%af%95%e6%8a%80%e5%b7%a7 aria-label=第三步：掌握调试技巧>第三步：掌握调试技巧</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%bb%ba%e7%ab%8b%e6%b5%8b%e8%af%95%e4%b9%a0%e6%83%af aria-label=第四步：建立测试习惯>第四步：建立测试习惯</a></li></ul></li><li><a href=#-%e8%bf%9b%e9%98%b6%e8%b5%84%e6%ba%90%e6%8e%a8%e8%8d%90 aria-label="🚀 进阶资源推荐">🚀 进阶资源推荐</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=面试官你的代码怎么测试-我笑了然后就挂了>*面试官：&ldquo;你的代码怎么测试？&rdquo; 我笑了&mldr;（然后就挂了）<a hidden class=anchor aria-hidden=true href=#面试官你的代码怎么测试-我笑了然后就挂了>#</a></h1><blockquote><p>💡 <strong>本文亮点</strong>：从零开始掌握JavaScript测试与调试，包含单元测试、集成测试、E2E测试实战案例，以及专业的调试技巧，助你在面试中脱颖而出！</p></blockquote><h3 id=正文><strong>正文</strong><a hidden class=anchor aria-hidden=true href=#正文>#</a></h3><p>“代码写完了？很好。那么，你该如何测试它？”</p><p>当面试官云淡风轻地抛出这个问题，你的大脑是否瞬间一片空白？你感觉自己明明实现了所有功能，逻辑天衣无缝，但就是无法证明它真的“天衣无缝”。这种感觉，就像一个绝世高手，却被问到“你的剑，锋利否？”而无法自证。</p><p>朋友，欢迎来到真实的世界。在这里，能跑起来的代码只是“能用”，而经过测试的代码，才叫“可靠”。今天，我将赐予你一套心法，让你彻底告别“代码能跑就行”的侥幸心理，成为一名让面试官和同事都充满信赖的专业开发者。</p><h2 id=第一章思想钢印--为何你的代码必须被测试><strong>第一章：思想钢印 —— 为何你的代码必须被测试？</strong><a hidden class=anchor aria-hidden=true href=#第一章思想钢印--为何你的代码必须被测试>#</a></h2><p>很多新手认为，测试是多余的，是浪费时间。大错特错！测试不是功能的附属品，它本身就是产品质量的基石。</p><p>把它想象成一位顶级大厨。他会在菜品上桌前，自己先尝一下味道。这个“尝”，就是测试。</p><p>它能确保代码按你的剧本演出，而不是随性发挥。
它能防止你在修复一个 bug 时，悄悄制造出十个新 bug（这叫“回归测试”）。
它能让你在未来大刀阔斧地重构代码时，心中有底，脚下有根。
它构建的是一种信心，一种你对你亲手创造的代码的绝对信心。</p><p>面试官问你为何要测试，他不是想听你背诵概念，他是想看你的眼睛里，有没有对“工程质量”这四个字的敬畏之心。</p><h2 id=第二章神兵利器--掌握你的测试军火库><strong>第二章：神兵利器 —— 掌握你的测试军火库</strong><a hidden class=anchor aria-hidden=true href=#第二章神兵利器--掌握你的测试军火库>#</a></h2><p>测试不是一锅乱炖，它分层级，有章法。就像组装一台超级跑车，你得先保证每个螺丝钉都合格，再看引擎能否发动，最后才把整辆车开上赛道。</p><p><strong>第一层：单元测试 (Unit Test) - 拧好每一颗螺丝</strong></p><p>这是最基础、最核心的测试。它只关心最小的功能单元，比如一个独立的函数。它就像一个洁癖患者，把函数关在一个“小黑屋”里，隔绝所有外部依赖（比如数据库、API），只看它在给定的输入下，能否吐出预期的输出。</p><p>比如，我们有一个平平无奇的 <code>sum</code> 函数：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// sum.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sum</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sum</span>;
</span></span></code></pre></div><p>它的单元测试（用流行的 Jest 框架）会是这样，像一个简单的数学验证：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// sum.test.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sum</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;./sum&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;测试1加2是否等于3&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 这就是“断言”，我断定 sum(1, 2) 的结果“toBe”(是) 3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>sum</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)).<span style=color:#a6e22e>toBe</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p><strong>第二层：集成测试 (Integration Test) - 启动引擎</strong></p><p>当零件都合格了，我们得把它们组装起来，看看引擎、变速箱、电路系统能否协同工作。这就是集成测试。它测试的是多个单元模块组合在一起时的表现，比如你的业务逻辑调用数据库模块，或者前端请求后端 API。</p><p><strong>第三层：端到端测试 (E2E Test) - 赛道狂飙</strong></p><p>这是最高层级的测试，它完全模拟真实用户的使用场景。就像一个真正的赛车手，坐进驾驶舱，点火、挂挡、踩油门，在真实的赛道上跑一圈。E2E 测试会自动打开浏览器，点击按钮，填写表单，然后验证页面是否给出了正确的反馈。Cypress 就是这个领域的王者。</p><p>面试官问你这三者的区别，是想探测你的视野。你是一个只盯着零件的工匠，还是一个能掌控全局的架构师？</p><h2 id=第三章内功心法--揭秘测试中的黑话><strong>第三章：内功心法 —— 揭秘测试中的黑话</strong><a hidden class=anchor aria-hidden=true href=#第三章内功心法--揭秘测试中的黑话>#</a></h2><p><strong>断言 (Assertion)：</strong> 这是测试的灵魂。简单说，就是你对代码行为的“预言”或“断定”。<code>expect(A).toBe(B)</code> 就是一个经典的断言，意思是“我期望 A 等于 B”。如果预言成真，测试通过；如果现实打脸，测试失败。</p><p><strong><code>toBe</code> vs <code>toEqual</code>：</strong> 这是 Jest 里的一个经典“陷阱”。<code>toBe</code> 是个严格的家伙，它用的是 <code>===</code>，要求两者必须是同一个对象，内存地址都得一样。而 <code>toEqual</code> 则是个随和的朋友，它只关心对象的内容是不是一样，会递归地检查每个字段。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// 对于数组和对象，你几乎总是需要用 toEqual
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]).<span style=color:#a6e22e>toEqual</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]); <span style=color:#75715e>// ✅ 通过！内容一样
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]).<span style=color:#a6e22e>toBe</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]);    <span style=color:#75715e>// ❌ 失败！这是两个不同的数组实例
</span></span></span></code></pre></div><p><strong>模拟 (Mocks & Stubs)：</strong> 在单元测试中，为了把“被测试的函数”关进小黑屋，我们需要“假装”它的依赖存在。这时就需要“模拟对象”（Mocks）。比如，你要测试一个获取用户信息的函数，但你不想真的去请求数据库，你就可以创建一个假的数据库模块，让它直接返回你想要的用户数据。这能让你的测试变得飞快且稳定。</p><p><strong>测试驱动开发 (TDD)：</strong> 这是一种“先知”般的开发模式。它的流程是：</p><ol><li><strong>写一个失败的测试</strong>：在写任何功能代码之前，先为它写一个测试。因为功能还没实现，这个测试理应失败。</li><li><strong>写最少的代码让测试通过</strong>：用最简单、甚至最“丑陋”的代码，让刚才的红灯变绿。</li><li><strong>重构</strong>：现在测试通过了，你有了安全网。开始放心地优化、重构你的代码，并时刻确保测试依然是绿色的。</li></ol><p>TDD 是一种能逼迫你深度思考、写出高质量代码的强大纪律。</p><h2 id=第四章妙手回春--像侦探一样调试-bug><strong>第四章：妙手回春 —— 像侦探一样调试 Bug</strong><a hidden class=anchor aria-hidden=true href=#第四章妙手回春--像侦探一样调试-bug>#</a></h2><p>即便有测试，Bug 依然是程序员的宿命。但调试 Bug 的能力，决定了你是“普通”还是“优秀”。</p><p>当一个函数返回 <code>undefined</code> 时，别慌。你的武器库里至少有三件法宝：</p><ol><li><strong><code>console.log()</code> 大法</strong>：简单粗暴，但有效。在代码的关键路径上，像撒面包屑一样，把变量打印出来，看看问题出在哪一步。</li><li><strong>断点 (Breakpoints)</strong>：这是最专业的武器。在浏览器开发者工具里，给你的代码设置一个“暂停点”。当代码执行到这里，整个世界都会为你静止。你可以从容地检查所有变量的状态，单步执行，洞察一切。</li><li><strong><code>debugger;</code> 关键字</strong>：在你的代码里直接写下 <code>debugger;</code>，效果和打断点一样。当浏览器执行到这里，会自动为你打开开发者工具并暂停。</li></ol><p>面试官问你如何调试，他想看的不是你会不会 <code>console.log</code>，而是你有没有一套系统性的、从粗到精的排查问题的逻辑。</p><h2 id=第五章飞升之路--追求代码的极致><strong>第五章：飞升之路 —— 追求代码的极致</strong><a hidden class=anchor aria-hidden=true href=#第五章飞升之路--追求代码的极致>#</a></h2><p><strong>代码覆盖率 (Code Coverage)：</strong> 这是衡量你的测试“覆盖”了多少业务代码的指标。比如，Jest 可以告诉你，你的测试跑过了 80% 的代码。但请记住，100% 的覆盖率不代表 100% 没有 Bug。它只能证明你的代码被执行过，但不能证明所有逻辑分支（尤其是那些刁钻的边界条件）都被正确地测试了。追求高覆盖率是好事，但永远不要被数字蒙蔽。</p><p><strong>异步测试：</strong> 现代 JavaScript 离不开异步。测试异步就像拆一颗定时炸弹，你需要 <code>async/await</code> 和 Jest 提供的 <code>.resolves</code> / <code>.rejects</code> 来确保你能抓住那个未来的结果。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;测试异步获取数据&#39;</span>, <span style=color:#66d9ef>async</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 我断定 fetchData() 这个 Promise 会成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// 并且它解析出的值，应该等于 { id: 1 }
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>fetchData</span>()).<span style=color:#a6e22e>resolves</span>.<span style=color:#a6e22e>toEqual</span>({ <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span> });
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><hr><p><strong>总结：从"能用"到"可靠"的飞跃</strong></p><p>测试与调试，是划分程序员段位的隐形分水岭。它不是一堆工具或命令，而是一种思维方式，一种对卓越工程质量的极致追求。</p><p>当你下一次面对"如何测试"这个灵魂拷问时，我希望你不再迟疑。你的回答，将不再是零散的知识点，而是一套完整的、充满自信的专业体系。</p><h2 id=-行动指南立即开始你的测试之旅><strong>🎯 行动指南：立即开始你的测试之旅</strong><a hidden class=anchor aria-hidden=true href=#-行动指南立即开始你的测试之旅>#</a></h2><h3 id=第一步搭建测试环境><strong>第一步：搭建测试环境</strong><a hidden class=anchor aria-hidden=true href=#第一步搭建测试环境>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 安装Jest测试框架</span>
</span></span><span style=display:flex><span>npm install --save-dev jest
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安装Cypress进行E2E测试</span>
</span></span><span style=display:flex><span>npm install --save-dev cypress
</span></span></code></pre></div><h3 id=第二步编写你的第一个测试><strong>第二步：编写你的第一个测试</strong><a hidden class=anchor aria-hidden=true href=#第二步编写你的第一个测试>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// calculator.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>add</span> };
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// calculator.test.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>add</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;./calculator&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>describe</span>(<span style=color:#e6db74>&#39;计算器测试&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;1 + 2 应该等于 3&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>add</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)).<span style=color:#a6e22e>toBe</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;负数相加&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>add</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>)).<span style=color:#a6e22e>toBe</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=第三步掌握调试技巧><strong>第三步：掌握调试技巧</strong><a hidden class=anchor aria-hidden=true href=#第三步掌握调试技巧>#</a></h3><ol><li><strong>使用Chrome DevTools</strong>：F12打开，Sources标签页设置断点</li><li><strong>VS Code调试</strong>：配置launch.json，一键调试</li><li><strong>console.log进阶</strong>：使用console.table、console.group等</li></ol><h3 id=第四步建立测试习惯><strong>第四步：建立测试习惯</strong><a hidden class=anchor aria-hidden=true href=#第四步建立测试习惯>#</a></h3><ul><li>✅ 每写一个函数，立即写测试</li><li>✅ 修复bug前，先写重现bug的测试</li><li>✅ 重构代码时，确保所有测试通过</li><li>✅ 定期检查代码覆盖率</li></ul><h2 id=-进阶资源推荐><strong>🚀 进阶资源推荐</strong><a hidden class=anchor aria-hidden=true href=#-进阶资源推荐>#</a></h2><ul><li><strong>Jest官方文档</strong>：https://jestjs.io/zh-Hans/</li><li><strong>Cypress测试指南</strong>：https://docs.cypress.io/</li><li><strong>Chrome DevTools调试</strong>：https://developers.google.com/web/tools/chrome-devtools</li><li><strong>测试驱动开发实践</strong>：https://martinfowler.com/bliki/TestDrivenDevelopment.html</li></ul><hr><p><strong>💬 互动讨论</strong>
你遇到过哪些测试难题？欢迎在评论区分享你的经验和困惑！</p><p>想在技术的江湖里拥有自己的独门绝技吗？<strong>关注梦兽编程微信公众号，解锁更多黑科技</strong>。</p><blockquote><p>🔥 <strong>热门推荐</strong>：</p><ul><li><a href=/zh-cn/js-news/react-cto-secret-shift/>React CTO的秘密：如何写出让面试官刮目相看的代码</a></li><li><a href=/zh-cn/js-news/bun-vs-rust-performance-battle/>Bun vs Rust性能大战：谁才是JavaScript的未来？</a></li></ul></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://rexai.top/zh-cn/tags/javascript/>JavaScript</a></li><li><a href=https://rexai.top/zh-cn/tags/%E6%B5%8B%E8%AF%95/>测试</a></li><li><a href=https://rexai.top/zh-cn/tags/%E8%B0%83%E8%AF%95/>调试</a></li><li><a href=https://rexai.top/zh-cn/tags/%E9%9D%A2%E8%AF%95/>面试</a></li><li><a href=https://rexai.top/zh-cn/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/>前端开发</a></li><li><a href=https://rexai.top/zh-cn/tags/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/>代码质量</a></li></ul><nav class=paginav><a class=prev href=https://rexai.top/zh-cn/tools/ai-tools/2025-05/><span class=title>« Prev</span><br><span>每日AI绘画技巧：3D渐变图标风格（GPT-4o & Lovart 实战）</span>
</a><a class=next href=https://rexai.top/zh-cn/js-news/react-cto-secret-shift/><span class=title>Next »</span><br><span>React要凉了？硅谷CTO们正在偷偷跑路...</span></a></nav></footer></article></main><footer class=footer><span>© <a href=https://rexai.top/>梦兽编程</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>