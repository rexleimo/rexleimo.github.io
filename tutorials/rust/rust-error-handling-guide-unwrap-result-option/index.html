<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect | æ¢¦å…½ç¼–ç¨‹</title><meta name=keywords content="Rust é”™è¯¯å¤„ç†,Rust Result,Rust Option,unwrap æ›¿ä»£,Rust ? æ“ä½œç¬¦,Rust panic å¤„ç†,Rust æœ€ä½³å®è·µ,Rust æ•™ç¨‹,Rust é”™è¯¯ä¼ æ’­,Rust å¼‚å¸¸å¤„ç†"><meta name=description content="æ·±åº¦è§£æ Rust é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä» unwrap çš„é™·é˜±åˆ° ? æ“ä½œç¬¦çš„ä¼˜é›…ï¼Œè¯¦ç»†è®²è§£ Resultã€Optionã€panic å¤„ç†ç­‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…å«å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ å†™å‡ºæ›´å®‰å…¨å¯é çš„ Rust ä»£ç "><meta name=author content="æ¢¦å…½ç¼–ç¨‹"><link rel=canonical href=https://rexai.top/tutorials/rust/rust-error-handling-guide-unwrap-result-option/><link crossorigin=anonymous href=/assets/css/stylesheet.852d08305fd9657bd0c1817a6ba86d4d8a66d40bbd25a67d45a8f93eb25903a1.css integrity="sha256-hS0IMF/ZZXvQwYF6a6htTYpm1Au9JaZ9Raj5PrJZA6E=" rel="preload stylesheet" as=style><link rel=icon href=https://rexai.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rexai.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rexai.top/favicon-32x32.png><link rel=apple-touch-icon href=https://rexai.top/apple-touch-icon.png><link rel=mask-icon href=https://rexai.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://rexai.top/tutorials/rust/rust-error-handling-guide-unwrap-result-option/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>.promotion-section{margin-top:2rem;text-align:center}.promotion-section h3{margin-bottom:1.5rem;color:var(--primary);font-size:1.25rem}.qr-codes{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.qr-item{text-align:center}.qr-item img{width:150px;height:150px;border:1px solid #ddd;border-radius:8px;padding:8px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s}.qr-item img:hover{transform:scale(1.05)}.qr-item p{margin-top:.5rem;font-size:.9rem;color:var(--secondary);font-weight:500}@media(max-width:768px){.qr-codes{flex-direction:column;align-items:center;gap:1rem}.qr-item img{width:120px;height:120px}}</style><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-K6VQRF8T")</script><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=winbbryz data-description="Support me on Buy me a coffee!" data-message data-color=#FF813F data-position=Right data-x_margin=18 data-y_margin=18></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K6VQRF8T" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><meta property="og:url" content="https://rexai.top/tutorials/rust/rust-error-handling-guide-unwrap-result-option/"><meta property="og:site_name" content="æ¢¦å…½ç¼–ç¨‹"><meta property="og:title" content="Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect"><meta property="og:description" content="æ·±åº¦è§£æ Rust é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä» unwrap çš„é™·é˜±åˆ° ? æ“ä½œç¬¦çš„ä¼˜é›…ï¼Œè¯¦ç»†è®²è§£ Resultã€Optionã€panic å¤„ç†ç­‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…å«å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ å†™å‡ºæ›´å®‰å…¨å¯é çš„ Rust ä»£ç "><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2024-12-19T10:00:00+08:00"><meta property="article:modified_time" content="2024-12-19T10:00:00+08:00"><meta property="article:tag" content="Rust"><meta property="article:tag" content="Error-Handling"><meta property="article:tag" content="Tutorial"><meta property="article:tag" content="Best-Practices"><meta property="article:tag" content="Result"><meta property="article:tag" content="Option"><meta name=twitter:card content="summary"><meta name=twitter:title content="Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect"><meta name=twitter:description content="æ·±åº¦è§£æ Rust é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä» unwrap çš„é™·é˜±åˆ° ? æ“ä½œç¬¦çš„ä¼˜é›…ï¼Œè¯¦ç»†è®²è§£ Resultã€Optionã€panic å¤„ç†ç­‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…å«å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ å†™å‡ºæ›´å®‰å…¨å¯é çš„ Rust ä»£ç "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ•™ç¨‹","item":"https://rexai.top/tutorials/"},{"@type":"ListItem","position":2,"name":"Rust æ•™ç¨‹","item":"https://rexai.top/tutorials/rust/"},{"@type":"ListItem","position":3,"name":"Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect","item":"https://rexai.top/tutorials/rust/rust-error-handling-guide-unwrap-result-option/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect","name":"Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap\/expect","description":"æ·±åº¦è§£æ Rust é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä» unwrap çš„é™·é˜±åˆ° ? æ“ä½œç¬¦çš„ä¼˜é›…ï¼Œè¯¦ç»†è®²è§£ Resultã€Optionã€panic å¤„ç†ç­‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…å«å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ å†™å‡ºæ›´å®‰å…¨å¯é çš„ Rust ä»£ç ","keywords":["Rust é”™è¯¯å¤„ç†","Rust Result","Rust Option","unwrap æ›¿ä»£","Rust ? æ“ä½œç¬¦","Rust panic å¤„ç†","Rust æœ€ä½³å®è·µ","Rust æ•™ç¨‹","Rust é”™è¯¯ä¼ æ’­","Rust å¼‚å¸¸å¤„ç†"],"articleBody":"è¿˜åœ¨ç”¨ unwrap()ï¼ŸåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥— Rust é”™è¯¯å¤„ç†\"ç»„åˆæ‹³\"ï¼Œå†ä¸çœ‹å°±æ™šäº†ï¼ ä½ å¥½ï¼Œæœªæ¥çš„ Rust å¤§ç¥ã€‚æˆ‘çŸ¥é“ä½ ä¸ºä½•è€Œæ¥ã€‚ä½ å¬è¯´ Rust æ˜¯ä¸€å¤´æ€§èƒ½çŒ›å…½ï¼Œå®‰å…¨å¯é ï¼Œäºæ˜¯æ»¡æ€€æ¿€æƒ…åœ°è·³äº†è¿›æ¥ã€‚ç„¶åï¼Œä½ é‡åˆ°äº†å®ƒçš„ç¬¬ä¸€ä¸ªä¸‹é©¬å¨â€”â€”é”™è¯¯å¤„ç†ã€‚\nå’Œé‚£äº›ç”¨ try-catch ç»™ä½ é“ºå¥½æŸ”è½¯å®‰å…¨ç½‘çš„è¯­è¨€ä¸åŒï¼ŒRust ç›´æ¥å¡ç»™ä½ ä¸€æŠŠåˆ©å‰‘å’Œä¸€ä¸ªç›¾ç‰Œâ€”â€”Result å’Œ Optionã€‚å®ƒå¯¹ä½ è¯´ï¼šâ€œä¸Šå§ï¼Œå‹‡å£«ï¼å‘½è¿æŒæ¡åœ¨ä½ è‡ªå·±æ‰‹ä¸­ã€‚â€\nå¾ˆå¤šæ–°æ‰‹æ²¡èµ°ä¸¤æ­¥ï¼Œå°±æ‰è¿›äº†å„ç§é™·é˜±ã€‚ä½†ä½ ä¸åŒï¼Œå› ä¸ºä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ æ‹†è§£ Rust é”™è¯¯å¤„ç†çš„äº”å¤§â€œå¤©å‘â€ï¼Œå¹¶ä¼ æˆä½ ä¸€å¥—èƒ½è®©åŒäº‹ä»¬æƒŠå‘¼â€œä¼˜é›…â€çš„æ­¦æ—ç§˜ç±ã€‚\nç›®å½• ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap() ç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„\"å” å¨\" ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«\"é‡‘å­—å¡”\"ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ ç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€\"å¼•çˆ†ç‚¸å¼¹\" ç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Result æ€»ç»“ï¼šä½ çš„\"å°ç¥\"ä¹‹è·¯ ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap()ï¼Œåˆ«è®©ä½ çš„ç¨‹åº\"è‡ªçˆ†\" æ¯ä¸ª Rust æ–°æ‰‹éƒ½æ›¾å¯¹ .unwrap() çˆ±ä¸é‡Šæ‰‹ã€‚å®ƒå°±åƒæ¶é­”çš„ä½è¯­ï¼Œåœ¨ä½ è€³è¾¹è¯´ï¼šâ€œåˆ«æ‹…å¿ƒï¼Œè¿™é‡Œè‚¯å®šæœ‰å€¼ï¼Œç›´æ¥æ‹†å¼€ç”¨å§ï¼â€ äºæ˜¯ï¼Œä½ å†™ä¸‹äº†è¿™æ ·çš„â€œYOLO ä»£ç â€ï¼š\nfn main() { let input = \"hello\"; // ç °ï¼ä½ çš„ç¨‹åºåœ¨è¿™é‡Œç°é£çƒŸç­ let num: i32 = input.parse().unwrap(); } è¿™å¯ä¸æ˜¯ä»€ä¹ˆå¯ä»¥è¢«æ•è·çš„â€œå¼‚å¸¸â€ï¼Œè¿™æ˜¯ç¨‹åºçš„â€œçŒæ­»â€ï¼Œæ˜¯ panic!ï¼Œæ˜¯æ‹‰å“æ‰‹é›·ä¸ä»£ç åŒå½’äºå°½ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œè¿™ä¹ˆå¹²ï¼Œä½ çš„åŒäº‹ä¼šé¡ºç€ç½‘çº¿æ¥æä½ ã€‚\nå¤§ç¥æ“ä½œï¼š\nçœŸæ­£çš„å‹‡å£«ï¼Œæ•¢äºç›´é¢å¯èƒ½å‘ç”Ÿçš„â€œé”™è¯¯â€ã€‚\nç”¨ match æ¥åšä¸€æ¬¡ç²¾å¯†çš„â€œå¤–ç§‘æ‰‹æœ¯â€ï¼š\nfn main() { let input = \"hello\"; match input.parse::\u003ci32\u003e() { Ok(num) =\u003e println!(\"è½¬æ¢æˆåŠŸ: {num}\"), Err(e) =\u003e println!(\"å‡ºé”™äº†ï¼Œå‡¡äºº: {e}\"), } } æˆ–è€…ï¼Œç»™å®ƒä¸€ä¸ªâ€œå¤‡èƒâ€ï¼Œå¦‚æœå¤±è´¥äº†å°±ç”¨é»˜è®¤å€¼ï¼š\nfn main() { let input = \"oops\"; // å¤±è´¥äº†ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬æœ‰plan Bï¼Œç”¨ 0 å…œåº• let num = input.parse::\u003ci32\u003e().unwrap_or(0); println!(\"{num}\"); } è®°ä½ï¼Œ.unwrap() åªåº”è¯¥å‡ºç°åœ¨æµ‹è¯•æˆ–è€…ä½ ç™¾åˆ†ä¹‹ä¸¤ç™¾èƒ½ç¡®å®šç¨‹åºä¸ä¼šå‡ºé”™çš„åœ°æ–¹ã€‚å¦åˆ™ï¼Œå®ƒå°±æ˜¯ä½ äº²æ‰‹åŸ‹ä¸‹çš„åœ°é›·ã€‚\nç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„â€œå” å¨â€ï¼Œå®ƒåœ¨ä¹ä½  å½“ä½ å†™ä¸‹è¿™æ ·çš„ä»£ç æ—¶ï¼ŒRust ç¼–è¯‘å™¨ä¼šç”¨ä¸€ä¸ªè­¦å‘Šæ¥æ‹¼å‘½å¼•èµ·ä½ çš„æ³¨æ„ï¼š\nuse std::fs::File; fn main() { File::open(\"config.toml\"); // âš ï¸ è­¦å‘Š: æœªä½¿ç”¨çš„ `Result` } ç¼–è¯‘å™¨å°±åƒé‚£ä¸ªæ€»æ˜¯æ‹…å¿ƒä½ å®‰å±çš„æœ‹å‹ï¼Œå®ƒåœ¨æ‹¼å‘½å–Šï¼šâ€œå–‚ï¼ä½ å€’æ˜¯çœ‹çœ‹æ–‡ä»¶åˆ°åº•æ‰“å¼€æˆåŠŸäº†æ²¡å•Šï¼â€ ä½ å´å¤´ä¹Ÿä¸å›åœ°èµ°äº†ã€‚è¿™å¾ˆå±é™©ï¼Œä¸‡ä¸€æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåç»­ä¾èµ–è¿™ä¸ªæ–‡ä»¶çš„ä»£ç å²‚ä¸æ˜¯è¦â€œç°é£çƒŸç­â€ï¼Ÿ\nå¤§ç¥æ“ä½œï¼š\næœ€èµ·ç ï¼Œä½ è¦æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œæˆ‘çŸ¥é“äº†ï¼Œä½†æˆ‘ä¸åœ¨ä¹ã€‚â€\nuse std::fs::File; fn main() { // ç”¨ `let _ =` å‡è£…ä½ å¤„ç†è¿‡äº†ï¼Œè‡³å°‘ç¼–è¯‘å™¨ä¸ä¼šå†å” å¨ let _ = File::open(\"config.toml\"); } å½“ç„¶ï¼Œæ›´è´Ÿè´£ä»»çš„åšæ³•æ˜¯ï¼Œå¥½å¥½å®‰æŠšè¿™ä½ä¸ºä½ æ“ç¢äº†å¿ƒçš„æœ‹å‹ï¼š\nfn main() { match File::open(\"config.toml\") { Ok(file) =\u003e println!(\"æ–‡ä»¶æ‰“å¼€æˆåŠŸï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†!\"), Err(e) =\u003e println!(\"æ‰“å¼€å¤±è´¥ï¼Œè®¡åˆ’Bå¯åŠ¨: {e}\"), } } ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«â€œé‡‘å­—å¡”â€ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ å½“ä½ çš„å‡½æ•°éœ€è¦å¤„ç†å¥½å‡ å±‚å¯èƒ½çš„é”™è¯¯æ—¶ï¼Œä½ çš„ä»£ç å¯èƒ½ä¼šå˜æˆè¿™æ ·ï¼š\nfn read_file() -\u003e Result\u003cString, std::io::Error\u003e { let mut file = match File::open(\"data.txt\") { Ok(f) =\u003e f, Err(e) =\u003e return Err(e), }; let mut contents = String::new(); match file.read_to_string(\u0026mut contents) { Ok(_) =\u003e Ok(contents), Err(e) =\u003e Err(e), } } è¿™ä»£ç æ²¡é”™ï¼Œä½†å®ƒåƒä¸€ä¸ªå±‚å±‚åµŒå¥—çš„ä¿„ç½—æ–¯å¥—å¨ƒï¼Œåˆè‡­åˆé•¿ï¼Œå……æ»¡äº†â€œç¥–ä¼ ä»£ç â€çš„æ°”æ¯ã€‚\nå¤§ç¥æ“ä½œï¼š\nRust æ—©å°±ä¸ºä½ å‡†å¤‡å¥½äº†é­”æ³•æ£’â€”â€”? é—®å·æ“ä½œç¬¦ã€‚å®ƒèƒ½è‡ªåŠ¨å¸®ä½ å¤„ç† Errï¼Œè®©ä½ çš„ä»£ç ç¬é—´å˜å¾—ä¸æ»‘ã€‚\nfn read_file() -\u003e Result\u003cString, std::io::Error\u003e { let mut file = File::open(\"data.txt\")?; let mut contents = String::new(); file.read_to_string(\u0026mut contents)?; Ok(contents) } çœ‹åˆ°äº†å—ï¼Ÿå¹²å‡€ã€ç®€æ´ã€ä¼˜é›…ï¼è¿™æ‰æ˜¯ç°ä»£ Rustacean è¯¥æœ‰çš„æ ·å­ã€‚ä½ çš„åŒäº‹çœ‹å®Œï¼Œåªä¼šé»˜é»˜åœ°æŠŠè‡ªå·±çš„ä»£ç é‡æ„ä¸€éã€‚\nç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€â€œå¼•çˆ†ç‚¸å¼¹â€ å¦‚æœä½ åœ¨å†™ä¸€ä¸ªç»™åˆ«äººç”¨çš„åº“ï¼ˆlibraryï¼‰ï¼Œè¯·æŠŠä¸‹é¢è¿™å¥è¯åˆ»åœ¨è„‘å­é‡Œï¼šæ°¸è¿œä¸è¦åœ¨åº“ä»£ç é‡Œç”¨ panic!ã€‚\nåœ¨åº“é‡Œ panic!ï¼Œç›¸å½“äºä½ å–ç»™åˆ«äººä¸€ä¸ªå·¥å…·ç®±ï¼Œé‡Œé¢çš„é”¤å­æœ‰ä¸€å®šæ¦‚ç‡ä¼šçˆ†ç‚¸ã€‚è¿™ä¸å«æƒŠå–œï¼Œè¿™å«æƒŠå“ã€‚\npub fn do_thing(data: \u0026str) -\u003e usize { if data.is_empty() { panic!(\"ä¸è®¸ç»™æˆ‘ç©ºæ•°æ®!\"); // âŒ ä½ çš„åº“ç”¨æˆ·ä¼šæ¨ä½  } data.len() } ä½ çš„ç”¨æˆ·å¸Œæœ›å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯ä»¥å¤„ç†çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè®©æ•´ä¸ªç¨‹åºå´©æºƒçš„â€œæ ¸å¼¹â€ã€‚\nå¤§ç¥æ“ä½œï¼š\næŠŠé€‰æ‹©æƒäº¤è¿˜ç»™ç”¨æˆ·ã€‚è¿”å›ä¸€ä¸ª Resultï¼Œè®©ä»–ä»¬è‡ªå·±å†³å®šè¯¥æ€ä¹ˆåŠã€‚\npub fn do_thing(data: \u0026str) -\u003e Result\u003cusize, \u0026'static str\u003e { if data.is_empty() { return Err(\"æ•°æ®ä¸èƒ½ä¸ºç©º\"); } Ok(data.len()) } è¿™æ‰æ˜¯ä¸“ä¸šçš„åšæ³•ã€‚ä½ æä¾›äº†ä¸€ä¸ªç¨³å®šã€å¯é¢„æµ‹çš„å·¥å…·ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®šæ—¶ç‚¸å¼¹ã€‚\nç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Resultï¼Œåšä¸ªä¿¡æ¯çµé€šçš„äºº Option å’Œ Result çœ‹ç€åƒï¼Œä½†ç”¨é€”å¤©å·®åœ°åˆ«ã€‚ç”¨é”™åœ°æ–¹ï¼Œä½ ä¼šä¸¢å¤±å®è´µçš„é”™è¯¯ä¿¡æ¯ã€‚\nOption å›ç­”çš„é—®é¢˜æ˜¯ï¼šâ€œæœ‰ï¼Œè¿˜æ˜¯æ²¡æœ‰ï¼Ÿâ€ Result å›ç­”çš„é—®é¢˜æ˜¯ï¼šâ€œæˆåŠŸäº†ï¼Œè¿˜æ˜¯å¤±è´¥äº†ï¼Ÿå¦‚æœå¤±è´¥äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿâ€\nå½“ä½ åªéœ€è¦åˆ¤æ–­â€œç”¨æˆ·å­˜ä¸å­˜åœ¨â€æ—¶ï¼ŒOption å¯èƒ½å°±å¤Ÿäº†ã€‚ä½†å¦‚æœä½ æƒ³çŸ¥é“ç”¨æˆ·æ˜¯â€œæ²¡æ‰¾åˆ°â€è¿˜æ˜¯â€œæ•°æ®åº“å´©äº†â€ï¼ŒResult æ‰æ˜¯ä½ çš„ç­”æ¡ˆã€‚\né”™è¯¯ç¤ºèŒƒï¼ˆä¿¡æ¯ä¸¢å¤±ï¼‰ï¼š\nfn get_user(id: u8) -\u003e Option\u003cString\u003e { if id == 1 { Some(\"Ibrahim\".into()) } else { None // âŒ ä¸ºä»€ä¹ˆæ˜¯ Noneï¼Ÿæ˜¯ç”¨æˆ·ä¸å­˜åœ¨è¿˜æ˜¯æ•°æ®åº“æŒ‚äº†ï¼Ÿå¤©çŸ¥é“ã€‚ } } å¤§ç¥æ“ä½œï¼ˆä¿¡æ¯ä¸°å¯Œï¼‰ï¼š\nfn get_user(id: u8) -\u003e Result\u003cString, \u0026'static str\u003e { if id == 1 { Ok(\"Ibrahim\".into()) } else { Err(\"æŸ¥æ— æ­¤äºº\") // âœ… æ¸…æ¸…æ¥šæ¥šï¼Œæ˜æ˜ç™½ç™½ } } æ€»ç»“ï¼šä½ çš„â€œå°ç¥â€ä¹‹è·¯ å¥½äº†ï¼Œç§˜ç±å·²ç»ä¼ æˆç»™ä½ äº†ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹è¿™å¥—â€œç»„åˆæ‹³â€ï¼š\nå‘Šåˆ« unwrap()ï¼šæ‹¥æŠ± match å’Œ unwrap_orï¼Œåšä¸ªç¨³é‡çš„äººã€‚ å€¾å¬ç¼–è¯‘å™¨ï¼šæ­£è§†æ¯ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒæ˜¯ä½ æœ€å¿ è¯šçš„ä¼™ä¼´ã€‚ çˆ±ä¸Š ?ï¼šç”¨å®ƒæ¥ç®€åŒ–ä½ çš„é”™è¯¯ä¼ æ’­é€»è¾‘ï¼Œä»£ç ä¼˜é›…åº¦ç¬é—´æ‹‰æ»¡ã€‚ åº“é‡Œä¸ panic!ï¼šåšä¸ªæœ‰å…¬å¾·å¿ƒçš„å¼€å‘è€…ï¼Œè¿”å› Resultã€‚ åˆ†æ¸… Option/Resultï¼šå½“â€œä¸ºä»€ä¹ˆå¤±è´¥â€å¾ˆé‡è¦æ—¶ï¼Œæœæ–­é€‰æ‹© Resultã€‚ æŒæ¡äº†è¿™äº›ï¼Œä½ å°±è¶…è¶Šäº† 90% çš„ Rust æ–°æ‰‹ã€‚ä½ çš„ä»£ç å°†ä¸å†æ˜¯é‚£ä¸ªéšæ—¶å¯èƒ½å´©æºƒçš„â€œç»ç’ƒå¤§ç‚®â€ï¼Œè€Œæ˜¯ä¸€ä»¶ç²¾é›•ç»†ç¢ã€ç¨³å®šå¯é çš„è‰ºæœ¯å“ã€‚\nå¸¸è§é—®é¢˜è§£ç­” (FAQ) Q1: Rust ä¸­çš„ unwrap() åˆ°åº•æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ A: unwrap() åœ¨é‡åˆ° None æˆ– Err æ—¶ä¼šè§¦å‘ panicï¼Œå¯¼è‡´æ•´ä¸ªç¨‹åºå´©æºƒã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™ä¼šé€ æˆæœåŠ¡ä¸­æ–­ï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚\nQ2: ? æ“ä½œç¬¦å’Œ unwrap() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ A: ? æ“ä½œç¬¦ä¼šå°†é”™è¯¯è‡ªåŠ¨ä¼ æ’­ç»™è°ƒç”¨è€…ï¼Œè€Œ unwrap() ä¼šç›´æ¥å¯¼è‡´ panicã€‚? æ˜¯æ›´å®‰å…¨çš„é”™è¯¯å¤„ç†æ–¹å¼ã€‚\nQ3: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Option è€Œä¸æ˜¯ Resultï¼Ÿ A: å½“ä½ åªéœ€è¦è¡¨ç¤º\"æœ‰\"æˆ–\"æ²¡æœ‰\"çš„æ¦‚å¿µæ—¶ä½¿ç”¨ Optionï¼›å½“ä½ éœ€è¦çŸ¥é“å…·ä½“çš„å¤±è´¥åŸå› æ—¶ä½¿ç”¨ Resultã€‚\nQ4: Rust æœ‰æ²¡æœ‰ç±»ä¼¼ try-catch çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ A: Rust æ²¡æœ‰ä¼ ç»Ÿçš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œè€Œæ˜¯ä½¿ç”¨ Result å’Œ Option ç±»å‹æ¥è¿›è¡Œé”™è¯¯å¤„ç†ï¼Œè¿™ç§æ–¹å¼æ›´å®‰å…¨ã€æ›´å¯æ§ã€‚\nQ5: å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Ÿ A: åœ¨åº“ä»£ç ä¸­åº”è¯¥å§‹ç»ˆè¿”å› Result ç±»å‹ï¼Œè®©è°ƒç”¨è€…å†³å®šå¦‚ä½•å¤„ç†é”™è¯¯ï¼Œæ°¸è¿œä¸è¦ä½¿ç”¨ panic!ã€‚\nå»¶ä¼¸é˜…è¯» Rust å®˜æ–¹é”™è¯¯å¤„ç†æŒ‡å— Rust ä¸­çš„é”™è¯¯å¤„ç†æœ€ä½³å®è·µ anyhow vs thiserror: Rust é”™è¯¯å¤„ç†åº“å¯¹æ¯” æ€»ç»“ï¼šä½ çš„\"å°ç¥\"ä¹‹è·¯ å¥½äº†ï¼Œç§˜ç±å·²ç»ä¼ æˆç»™ä½ äº†ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹è¿™å¥—\"ç»„åˆæ‹³\"ï¼š\nå‘Šåˆ« unwrap()ï¼šæ‹¥æŠ± match å’Œ unwrap_orï¼Œåšä¸ªç¨³é‡çš„äººã€‚ å€¾å¬ç¼–è¯‘å™¨ï¼šæ­£è§†æ¯ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒæ˜¯ä½ æœ€å¿ è¯šçš„ä¼™ä¼´ã€‚ çˆ±ä¸Š ?ï¼šç”¨å®ƒæ¥ç®€åŒ–ä½ çš„é”™è¯¯ä¼ æ’­é€»è¾‘ï¼Œä»£ç ä¼˜é›…åº¦ç¬é—´æ‹‰æ»¡ã€‚ åº“é‡Œä¸ panic!ï¼šåšä¸ªæœ‰å…¬å¾·å¿ƒçš„å¼€å‘è€…ï¼Œè¿”å› Resultã€‚ åˆ†æ¸… Option/Resultï¼šå½“\"ä¸ºä»€ä¹ˆå¤±è´¥\"å¾ˆé‡è¦æ—¶ï¼Œæœæ–­é€‰æ‹© Resultã€‚ æŒæ¡äº†è¿™äº›ï¼Œä½ å°±è¶…è¶Šäº† 90% çš„ Rust æ–°æ‰‹ã€‚ä½ çš„ä»£ç å°†ä¸å†æ˜¯é‚£ä¸ªéšæ—¶å¯èƒ½å´©æºƒçš„\"ç»ç’ƒå¤§ç‚®\"ï¼Œè€Œæ˜¯ä¸€ä»¶ç²¾é›•ç»†ç¢ã€ç¨³å®šå¯é çš„è‰ºæœ¯å“ã€‚\næƒ³è®©ä½ çš„ä»£ç ä¹Ÿå˜å¾—å¦‚æ­¤ä¼˜é›…ï¼Œç”šè‡³è®©åŒäº‹ä»¬éƒ½æ¥è¯·æ•™ä½ å—ï¼Ÿå…³æ³¨æ¢¦å…½ç¼–ç¨‹å¾®ä¿¡å…¬ä¼—å·ï¼Œè§£é”æ›´å¤šé»‘ç§‘æŠ€ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åœ¨ç¼–ç¨‹çš„é“è·¯ä¸Š\"å†…å·\"åˆ°åº•ï¼\n","wordCount":"439","inLanguage":"zh-cn","datePublished":"2024-12-19T10:00:00+08:00","dateModified":"2024-12-19T10:00:00+08:00","author":{"@type":"Person","name":"æ¢¦å…½ç¼–ç¨‹"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rexai.top/tutorials/rust/rust-error-handling-guide-unwrap-result-option/"},"publisher":{"@type":"Organization","name":"æ¢¦å…½ç¼–ç¨‹","logo":{"@type":"ImageObject","url":"https://rexai.top/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://rexai.top/ accesskey=h title="æ¢¦å…½ç¼–ç¨‹ (Alt + H)">æ¢¦å…½ç¼–ç¨‹</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://rexai.top/en/ title=:en: aria-label=:en:>En</a></li></ul></div></div><ul id=menu><li><a href=https://rexai.top/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li class=has-submenu><a href=https://rexai.top/zh-cn/tutorials/ title="ğŸ“š æ•™ç¨‹"><span>ğŸ“š æ•™ç¨‹</span>
<span class=submenu-toggle>â–¼</span></a><ul class=submenu><li><a href=https://rexai.top/zh-cn/tutorials/rust/ title=Rust>Rust</a></li><li><a href=https://rexai.top/zh-cn/tutorials/ai/ title=AIç¼–ç¨‹>AIç¼–ç¨‹</a></li></ul></li><li><a href=https://rexai.top/zh-cn/tools/ title=å·¥å…·ç²¾é€‰><span>å·¥å…·ç²¾é€‰</span></a></li><li><a href=https://rexai.top/zh-cn/news/ title="ğŸ”¥ èµ„è®¯"><span>ğŸ”¥ èµ„è®¯</span></a></li><li><a href=https://rexai.top/zh-cn/tags/ title=ğŸ·ï¸æ ‡ç­¾><span>ğŸ·ï¸æ ‡ç­¾</span></a></li><li><a href=https://rexai.top/zh-cn/categories/ title=ğŸ“‚åˆ†ç±»><span>ğŸ“‚åˆ†ç±»</span></a></li></ul></nav></header><style>.has-submenu{position:relative}#menu{overflow:visible !important}#menu li{overflow:visible}.submenu{position:absolute;top:100%;left:0;background:var(--theme);border:1px solid var(--border);border-radius:8px;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);min-width:180px;z-index:1000;list-style:none;display:none;padding:.5rem 0}.submenu li{display:block;margin:0;line-height:1.5}#menu .submenu li+li{margin-inline-start:0}.submenu a{display:block;padding:.75rem 1rem;color:var(--secondary);text-decoration:none;transition:all .2s ease;border-radius:0}.submenu a:hover{background:var(--entry);color:var(--primary)}.has-submenu:hover .submenu{display:block !important}.submenu-toggle{margin-left:.25rem;font-size:.75rem;transition:transform .2s ease;display:inline-block}.has-submenu:hover .submenu-toggle{transform:rotate(180deg)}@media(max-width:768px){.submenu{position:static;box-shadow:none;border:none;background:var(--entry);margin-top:0;margin-left:1rem;display:none;padding:0}.has-submenu.active .submenu{display:block}.submenu-toggle{cursor:pointer}}</style><script>window.innerWidth<=768&&document.querySelectorAll(".has-submenu").forEach(e=>{const n=e.querySelector("a"),t=e.querySelector(".submenu-toggle");t&&(t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("active")}),n.addEventListener("click",function(t){e.classList.contains("has-submenu")&&(t.preventDefault(),e.classList.toggle("active"))}))})</script><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Rusté”™è¯¯å¤„ç†æŒ‡å—ï¼šç²¾é€šResultã€Optionä¸unwrap/expect</h1><div class=post-description>æ·±åº¦è§£æ Rust é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä» unwrap çš„é™·é˜±åˆ° ? æ“ä½œç¬¦çš„ä¼˜é›…ï¼Œè¯¦ç»†è®²è§£ Resultã€Optionã€panic å¤„ç†ç­‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…å«å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ å†™å‡ºæ›´å®‰å…¨å¯é çš„ Rust ä»£ç </div><div class=post-meta><span title='2024-12-19 10:00:00 +0800 +0800'>December 19, 2024</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;439 words&nbsp;Â·&nbsp;æ¢¦å…½ç¼–ç¨‹</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e8%bf%98%e5%9c%a8%e7%94%a8-unwrap%e5%90%8c%e4%ba%8b%e4%bb%ac%e9%83%bd%e5%81%b7%e5%81%b7%e5%9c%a8%e5%ad%a6%e8%bf%99%e5%a5%97-rust-%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e7%bb%84%e5%90%88%e6%8b%b3%e5%86%8d%e4%b8%8d%e7%9c%8b%e5%b0%b1%e6%99%9a%e4%ba%86 aria-label='è¿˜åœ¨ç”¨ unwrap()ï¼ŸåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥— Rust é”™è¯¯å¤„ç†"ç»„åˆæ‹³"ï¼Œå†ä¸çœ‹å°±æ™šäº†ï¼'>è¿˜åœ¨ç”¨ unwrap()ï¼ŸåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥— Rust é”™è¯¯å¤„ç†"ç»„åˆæ‹³"ï¼Œå†ä¸çœ‹å°±æ™šäº†ï¼</a><ul><li><a href=#%e7%9b%ae%e5%bd%95 aria-label=ç›®å½•>ç›®å½•</a></li><li><a href=#%e7%ac%ac%e4%b8%80%e5%bc%8f%e6%88%92%e6%8e%89%e5%bf%83%e9%ad%94-unwrap%e5%88%ab%e8%ae%a9%e4%bd%a0%e7%9a%84%e7%a8%8b%e5%ba%8f%e8%87%aa%e7%88%86 aria-label='ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap()ï¼Œåˆ«è®©ä½ çš„ç¨‹åº"è‡ªçˆ†"'>ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap()ï¼Œåˆ«è®©ä½ çš„ç¨‹åº"è‡ªçˆ†"</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e5%bc%8f%e6%ad%a3%e8%a7%86%e7%bc%96%e8%af%91%e5%99%a8%e7%9a%84%e5%94%a0%e5%8f%a8%e5%ae%83%e5%9c%a8%e4%b9%8e%e4%bd%a0 aria-label=ç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„â€œå” å¨â€ï¼Œå®ƒåœ¨ä¹ä½ >ç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„â€œå” å¨â€ï¼Œå®ƒåœ¨ä¹ä½ </a></li><li><a href=#%e7%ac%ac%e4%b8%89%e5%bc%8f%e5%91%8a%e5%88%ab%e9%87%91%e5%ad%97%e5%a1%94%e7%94%a8--%e5%8f%98%e8%ba%ab%e4%bc%98%e9%9b%85%e9%ad%94%e6%9c%af%e5%b8%88 aria-label="ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«â€œé‡‘å­—å¡”â€ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ">ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«â€œé‡‘å­—å¡”â€ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e5%bc%8f%e4%b8%8d%e5%9c%a8%e5%85%ac%e5%85%b1%e5%9c%ba%e6%89%80%e5%bc%95%e7%88%86%e7%82%b8%e5%bc%b9 aria-label=ç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€â€œå¼•çˆ†ç‚¸å¼¹â€>ç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€â€œå¼•çˆ†ç‚¸å¼¹â€</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e5%bc%8f%e5%88%86%e6%b8%85-option-%e5%92%8c-result%e5%81%9a%e4%b8%aa%e4%bf%a1%e6%81%af%e7%81%b5%e9%80%9a%e7%9a%84%e4%ba%ba aria-label="ç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Resultï¼Œåšä¸ªä¿¡æ¯çµé€šçš„äºº">ç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Resultï¼Œåšä¸ªä¿¡æ¯çµé€šçš„äºº</a></li><li><a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e8%a7%a3%e7%ad%94-faq aria-label="å¸¸è§é—®é¢˜è§£ç­” (FAQ)">å¸¸è§é—®é¢˜è§£ç­” (FAQ)</a><ul><li><a href=#q1-rust-%e4%b8%ad%e7%9a%84-unwrap-%e5%88%b0%e5%ba%95%e6%9c%89%e4%bb%80%e4%b9%88%e9%a3%8e%e9%99%a9 aria-label="Q1: Rust ä¸­çš„ unwrap() åˆ°åº•æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ">Q1: Rust ä¸­çš„ unwrap() åˆ°åº•æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ</a></li><li><a href=#q2--%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%92%8c-unwrap-%e6%9c%89%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab aria-label="Q2: ? æ“ä½œç¬¦å’Œ unwrap() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ">Q2: ? æ“ä½œç¬¦å’Œ unwrap() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li><a href=#q3-%e4%bb%80%e4%b9%88%e6%97%b6%e5%80%99%e5%ba%94%e8%af%a5%e4%bd%bf%e7%94%a8-option-%e8%80%8c%e4%b8%8d%e6%98%af-result aria-label="Q3: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Option è€Œä¸æ˜¯ Resultï¼Ÿ">Q3: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Option è€Œä¸æ˜¯ Resultï¼Ÿ</a></li><li><a href=#q4-rust-%e6%9c%89%e6%b2%a1%e6%9c%89%e7%b1%bb%e4%bc%bc-try-catch-%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e6%9c%ba%e5%88%b6 aria-label="Q4: Rust æœ‰æ²¡æœ‰ç±»ä¼¼ try-catch çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ">Q4: Rust æœ‰æ²¡æœ‰ç±»ä¼¼ try-catch çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ</a></li><li><a href=#q5-%e5%a6%82%e4%bd%95%e5%9c%a8%e5%ba%93%e4%b8%ad%e4%bc%98%e9%9b%85%e5%9c%b0%e5%a4%84%e7%90%86%e9%94%99%e8%af%af aria-label="Q5: å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Ÿ">Q5: å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Ÿ</a></li></ul></li><li><a href=#%e5%bb%b6%e4%bc%b8%e9%98%85%e8%af%bb aria-label=å»¶ä¼¸é˜…è¯»>å»¶ä¼¸é˜…è¯»</a></li><li><a href=#%e6%80%bb%e7%bb%93%e4%bd%a0%e7%9a%84%e5%b0%81%e7%a5%9e%e4%b9%8b%e8%b7%af aria-label='æ€»ç»“ï¼šä½ çš„"å°ç¥"ä¹‹è·¯'>æ€»ç»“ï¼šä½ çš„"å°ç¥"ä¹‹è·¯</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=è¿˜åœ¨ç”¨-unwrapåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥—-rust-é”™è¯¯å¤„ç†ç»„åˆæ‹³å†ä¸çœ‹å°±æ™šäº†>è¿˜åœ¨ç”¨ unwrap()ï¼ŸåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥— Rust é”™è¯¯å¤„ç†"ç»„åˆæ‹³"ï¼Œå†ä¸çœ‹å°±æ™šäº†ï¼<a hidden class=anchor aria-hidden=true href=#è¿˜åœ¨ç”¨-unwrapåŒäº‹ä»¬éƒ½å·å·åœ¨å­¦è¿™å¥—-rust-é”™è¯¯å¤„ç†ç»„åˆæ‹³å†ä¸çœ‹å°±æ™šäº†>#</a></h1><p>ä½ å¥½ï¼Œæœªæ¥çš„ Rust å¤§ç¥ã€‚æˆ‘çŸ¥é“ä½ ä¸ºä½•è€Œæ¥ã€‚ä½ å¬è¯´ Rust æ˜¯ä¸€å¤´æ€§èƒ½çŒ›å…½ï¼Œå®‰å…¨å¯é ï¼Œäºæ˜¯æ»¡æ€€æ¿€æƒ…åœ°è·³äº†è¿›æ¥ã€‚ç„¶åï¼Œä½ é‡åˆ°äº†å®ƒçš„ç¬¬ä¸€ä¸ªä¸‹é©¬å¨â€”â€”é”™è¯¯å¤„ç†ã€‚</p><p>å’Œé‚£äº›ç”¨ try-catch ç»™ä½ é“ºå¥½æŸ”è½¯å®‰å…¨ç½‘çš„è¯­è¨€ä¸åŒï¼ŒRust ç›´æ¥å¡ç»™ä½ ä¸€æŠŠåˆ©å‰‘å’Œä¸€ä¸ªç›¾ç‰Œâ€”â€”Result å’Œ Optionã€‚å®ƒå¯¹ä½ è¯´ï¼šâ€œä¸Šå§ï¼Œå‹‡å£«ï¼å‘½è¿æŒæ¡åœ¨ä½ è‡ªå·±æ‰‹ä¸­ã€‚â€</p><p>å¾ˆå¤šæ–°æ‰‹æ²¡èµ°ä¸¤æ­¥ï¼Œå°±æ‰è¿›äº†å„ç§é™·é˜±ã€‚ä½†ä½ ä¸åŒï¼Œå› ä¸ºä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ æ‹†è§£ Rust é”™è¯¯å¤„ç†çš„äº”å¤§â€œå¤©å‘â€ï¼Œå¹¶ä¼ æˆä½ ä¸€å¥—èƒ½è®©åŒäº‹ä»¬æƒŠå‘¼â€œä¼˜é›…â€çš„æ­¦æ—ç§˜ç±ã€‚</p><h2 id=ç›®å½•>ç›®å½•<a hidden class=anchor aria-hidden=true href=#ç›®å½•>#</a></h2><ul><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e7%ac%ac%e4%b8%80%e5%bc%8f%e6%88%92%e6%8e%89%e5%bf%83%e9%ad%94-unwrap>ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap()</a></li><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e7%ac%ac%e4%ba%8c%e5%bc%8f%e6%ad%a3%e8%a7%86%e7%bc%96%e8%af%91%e5%99%a8%e7%9a%84%e5%94%a0%e5%8f%a8>ç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„"å” å¨"</a></li><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e7%ac%ac%e4%b8%89%e5%bc%8f%e5%91%8a%e5%88%ab%e9%87%91%e5%ad%97%e5%a1%94%e7%94%a8--%e5%8f%98%e8%ba%ab%e4%bc%98%e9%9b%85%e9%ad%94%e6%9c%af%e5%b8%88>ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«"é‡‘å­—å¡”"ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ</a></li><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e7%ac%ac%e5%9b%9b%e5%bc%8f%e4%b8%8d%e5%9c%a8%e5%85%ac%e5%85%b1%e5%9c%ba%e6%89%80%e5%bc%95%e7%88%86%e7%82%b8%e5%bc%b9>ç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€"å¼•çˆ†ç‚¸å¼¹"</a></li><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e7%ac%ac%e4%ba%94%e5%bc%8f%e5%88%86%e6%b8%85-option-%e5%92%8c-result>ç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Result</a></li><li><a href=/tutorials/rust/rust-error-handling-guide-unwrap-result-option/#%e6%80%bb%e7%bb%93%e4%bd%a0%e7%9a%84%e5%b0%81%e7%a5%9e%e4%b9%8b%e8%b7%af>æ€»ç»“ï¼šä½ çš„"å°ç¥"ä¹‹è·¯</a></li></ul><h2 id=ç¬¬ä¸€å¼æˆ’æ‰å¿ƒé­”-unwrapåˆ«è®©ä½ çš„ç¨‹åºè‡ªçˆ†>ç¬¬ä¸€å¼ï¼šæˆ’æ‰å¿ƒé­” unwrap()ï¼Œåˆ«è®©ä½ çš„ç¨‹åº"è‡ªçˆ†"<a hidden class=anchor aria-hidden=true href=#ç¬¬ä¸€å¼æˆ’æ‰å¿ƒé­”-unwrapåˆ«è®©ä½ çš„ç¨‹åºè‡ªçˆ†>#</a></h2><p>æ¯ä¸ª Rust æ–°æ‰‹éƒ½æ›¾å¯¹ .unwrap() çˆ±ä¸é‡Šæ‰‹ã€‚å®ƒå°±åƒæ¶é­”çš„ä½è¯­ï¼Œåœ¨ä½ è€³è¾¹è¯´ï¼šâ€œåˆ«æ‹…å¿ƒï¼Œè¿™é‡Œè‚¯å®šæœ‰å€¼ï¼Œç›´æ¥æ‹†å¼€ç”¨å§ï¼â€ äºæ˜¯ï¼Œä½ å†™ä¸‹äº†è¿™æ ·çš„â€œYOLO ä»£ç â€ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> input <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hello&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç °ï¼ä½ çš„ç¨‹åºåœ¨è¿™é‡Œç°é£çƒŸç­
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> num: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> input.parse().unwrap(); 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™å¯ä¸æ˜¯ä»€ä¹ˆå¯ä»¥è¢«æ•è·çš„â€œå¼‚å¸¸â€ï¼Œè¿™æ˜¯ç¨‹åºçš„â€œçŒæ­»â€ï¼Œæ˜¯ panic!ï¼Œæ˜¯æ‹‰å“æ‰‹é›·ä¸ä»£ç åŒå½’äºå°½ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œè¿™ä¹ˆå¹²ï¼Œä½ çš„åŒäº‹ä¼šé¡ºç€ç½‘çº¿æ¥æä½ ã€‚</p><p>å¤§ç¥æ“ä½œï¼š</p><p>çœŸæ­£çš„å‹‡å£«ï¼Œæ•¢äºç›´é¢å¯èƒ½å‘ç”Ÿçš„â€œé”™è¯¯â€ã€‚</p><p>ç”¨ match æ¥åšä¸€æ¬¡ç²¾å¯†çš„â€œå¤–ç§‘æ‰‹æœ¯â€ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> input <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hello&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>match</span> input.parse::<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>() {
</span></span><span style=display:flex><span>        Ok(num) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>println!</span>(<span style=color:#e6db74>&#34;è½¬æ¢æˆåŠŸ: </span><span style=color:#e6db74>{num}</span><span style=color:#e6db74>&#34;</span>),
</span></span><span style=display:flex><span>        Err(e) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>println!</span>(<span style=color:#e6db74>&#34;å‡ºé”™äº†ï¼Œå‡¡äºº: </span><span style=color:#e6db74>{e}</span><span style=color:#e6db74>&#34;</span>),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æˆ–è€…ï¼Œç»™å®ƒä¸€ä¸ªâ€œå¤‡èƒâ€ï¼Œå¦‚æœå¤±è´¥äº†å°±ç”¨é»˜è®¤å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> input <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;oops&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// å¤±è´¥äº†ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬æœ‰plan Bï¼Œç”¨ 0 å…œåº•
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> num <span style=color:#f92672>=</span> input.parse::<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>().unwrap_or(<span style=color:#ae81ff>0</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>println!</span>(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{num}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è®°ä½ï¼Œ.unwrap() åªåº”è¯¥å‡ºç°åœ¨æµ‹è¯•æˆ–è€…ä½ ç™¾åˆ†ä¹‹ä¸¤ç™¾èƒ½ç¡®å®šç¨‹åºä¸ä¼šå‡ºé”™çš„åœ°æ–¹ã€‚å¦åˆ™ï¼Œå®ƒå°±æ˜¯ä½ äº²æ‰‹åŸ‹ä¸‹çš„åœ°é›·ã€‚</p><h2 id=ç¬¬äºŒå¼æ­£è§†ç¼–è¯‘å™¨çš„å” å¨å®ƒåœ¨ä¹ä½ >ç¬¬äºŒå¼ï¼šæ­£è§†ç¼–è¯‘å™¨çš„â€œå” å¨â€ï¼Œå®ƒåœ¨ä¹ä½ <a hidden class=anchor aria-hidden=true href=#ç¬¬äºŒå¼æ­£è§†ç¼–è¯‘å™¨çš„å” å¨å®ƒåœ¨ä¹ä½ >#</a></h2><p>å½“ä½ å†™ä¸‹è¿™æ ·çš„ä»£ç æ—¶ï¼ŒRust ç¼–è¯‘å™¨ä¼šç”¨ä¸€ä¸ªè­¦å‘Šæ¥æ‹¼å‘½å¼•èµ·ä½ çš„æ³¨æ„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>use</span> std::fs::File;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    File::open(<span style=color:#e6db74>&#34;config.toml&#34;</span>); <span style=color:#75715e>// âš ï¸ è­¦å‘Š: æœªä½¿ç”¨çš„ `Result`
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>ç¼–è¯‘å™¨å°±åƒé‚£ä¸ªæ€»æ˜¯æ‹…å¿ƒä½ å®‰å±çš„æœ‹å‹ï¼Œå®ƒåœ¨æ‹¼å‘½å–Šï¼šâ€œå–‚ï¼ä½ å€’æ˜¯çœ‹çœ‹æ–‡ä»¶åˆ°åº•æ‰“å¼€æˆåŠŸäº†æ²¡å•Šï¼â€ ä½ å´å¤´ä¹Ÿä¸å›åœ°èµ°äº†ã€‚è¿™å¾ˆå±é™©ï¼Œä¸‡ä¸€æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåç»­ä¾èµ–è¿™ä¸ªæ–‡ä»¶çš„ä»£ç å²‚ä¸æ˜¯è¦â€œç°é£çƒŸç­â€ï¼Ÿ</p><p>å¤§ç¥æ“ä½œï¼š</p><p>æœ€èµ·ç ï¼Œä½ è¦æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œæˆ‘çŸ¥é“äº†ï¼Œä½†æˆ‘ä¸åœ¨ä¹ã€‚â€</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>use</span> std::fs::File;
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç”¨ `let _ =` å‡è£…ä½ å¤„ç†è¿‡äº†ï¼Œè‡³å°‘ç¼–è¯‘å™¨ä¸ä¼šå†å” å¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> _ <span style=color:#f92672>=</span> File::open(<span style=color:#e6db74>&#34;config.toml&#34;</span>); 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å½“ç„¶ï¼Œæ›´è´Ÿè´£ä»»çš„åšæ³•æ˜¯ï¼Œå¥½å¥½å®‰æŠšè¿™ä½ä¸ºä½ æ“ç¢äº†å¿ƒçš„æœ‹å‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>match</span> File::open(<span style=color:#e6db74>&#34;config.toml&#34;</span>) {
</span></span><span style=display:flex><span>        Ok(file) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>println!</span>(<span style=color:#e6db74>&#34;æ–‡ä»¶æ‰“å¼€æˆåŠŸï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†!&#34;</span>),
</span></span><span style=display:flex><span>        Err(e) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>println!</span>(<span style=color:#e6db74>&#34;æ‰“å¼€å¤±è´¥ï¼Œè®¡åˆ’Bå¯åŠ¨: </span><span style=color:#e6db74>{e}</span><span style=color:#e6db74>&#34;</span>),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ç¬¬ä¸‰å¼å‘Šåˆ«é‡‘å­—å¡”ç”¨--å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ>ç¬¬ä¸‰å¼ï¼šå‘Šåˆ«â€œé‡‘å­—å¡”â€ï¼Œç”¨ ? å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ<a hidden class=anchor aria-hidden=true href=#ç¬¬ä¸‰å¼å‘Šåˆ«é‡‘å­—å¡”ç”¨--å˜èº«ä¼˜é›…é­”æœ¯å¸ˆ>#</a></h2><p>å½“ä½ çš„å‡½æ•°éœ€è¦å¤„ç†å¥½å‡ å±‚å¯èƒ½çš„é”™è¯¯æ—¶ï¼Œä½ çš„ä»£ç å¯èƒ½ä¼šå˜æˆè¿™æ ·ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>read_file</span>() -&gt; Result<span style=color:#f92672>&lt;</span>String, std::io::Error<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> file <span style=color:#f92672>=</span> <span style=color:#66d9ef>match</span> File::open(<span style=color:#e6db74>&#34;data.txt&#34;</span>) {
</span></span><span style=display:flex><span>        Ok(f) <span style=color:#f92672>=&gt;</span> f,
</span></span><span style=display:flex><span>        Err(e) <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>return</span> Err(e),
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> contents <span style=color:#f92672>=</span> String::new();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>match</span> file.read_to_string(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> contents) {
</span></span><span style=display:flex><span>        Ok(_) <span style=color:#f92672>=&gt;</span> Ok(contents),
</span></span><span style=display:flex><span>        Err(e) <span style=color:#f92672>=&gt;</span> Err(e),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™ä»£ç æ²¡é”™ï¼Œä½†å®ƒåƒä¸€ä¸ªå±‚å±‚åµŒå¥—çš„ä¿„ç½—æ–¯å¥—å¨ƒï¼Œåˆè‡­åˆé•¿ï¼Œå……æ»¡äº†â€œç¥–ä¼ ä»£ç â€çš„æ°”æ¯ã€‚</p><p>å¤§ç¥æ“ä½œï¼š</p><p>Rust æ—©å°±ä¸ºä½ å‡†å¤‡å¥½äº†é­”æ³•æ£’â€”â€”? é—®å·æ“ä½œç¬¦ã€‚å®ƒèƒ½è‡ªåŠ¨å¸®ä½ å¤„ç† Errï¼Œè®©ä½ çš„ä»£ç ç¬é—´å˜å¾—ä¸æ»‘ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>read_file</span>() -&gt; Result<span style=color:#f92672>&lt;</span>String, std::io::Error<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> file <span style=color:#f92672>=</span> File::open(<span style=color:#e6db74>&#34;data.txt&#34;</span>)<span style=color:#f92672>?</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> contents <span style=color:#f92672>=</span> String::new();
</span></span><span style=display:flex><span>    file.read_to_string(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> contents)<span style=color:#f92672>?</span>;
</span></span><span style=display:flex><span>    Ok(contents)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>çœ‹åˆ°äº†å—ï¼Ÿå¹²å‡€ã€ç®€æ´ã€ä¼˜é›…ï¼è¿™æ‰æ˜¯ç°ä»£ Rustacean è¯¥æœ‰çš„æ ·å­ã€‚ä½ çš„åŒäº‹çœ‹å®Œï¼Œåªä¼šé»˜é»˜åœ°æŠŠè‡ªå·±çš„ä»£ç é‡æ„ä¸€éã€‚</p><h2 id=ç¬¬å››å¼ä¸åœ¨å…¬å…±åœºæ‰€å¼•çˆ†ç‚¸å¼¹>ç¬¬å››å¼ï¼šä¸åœ¨å…¬å…±åœºæ‰€â€œå¼•çˆ†ç‚¸å¼¹â€<a hidden class=anchor aria-hidden=true href=#ç¬¬å››å¼ä¸åœ¨å…¬å…±åœºæ‰€å¼•çˆ†ç‚¸å¼¹>#</a></h2><p>å¦‚æœä½ åœ¨å†™ä¸€ä¸ªç»™åˆ«äººç”¨çš„åº“ï¼ˆlibraryï¼‰ï¼Œè¯·æŠŠä¸‹é¢è¿™å¥è¯åˆ»åœ¨è„‘å­é‡Œï¼šæ°¸è¿œä¸è¦åœ¨åº“ä»£ç é‡Œç”¨ panic!ã€‚</p><p>åœ¨åº“é‡Œ panic!ï¼Œç›¸å½“äºä½ å–ç»™åˆ«äººä¸€ä¸ªå·¥å…·ç®±ï¼Œé‡Œé¢çš„é”¤å­æœ‰ä¸€å®šæ¦‚ç‡ä¼šçˆ†ç‚¸ã€‚è¿™ä¸å«æƒŠå–œï¼Œè¿™å«æƒŠå“ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>do_thing</span>(data: <span style=color:#66d9ef>&amp;</span><span style=color:#66d9ef>str</span>) -&gt; <span style=color:#66d9ef>usize</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> data.is_empty() {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>panic!</span>(<span style=color:#e6db74>&#34;ä¸è®¸ç»™æˆ‘ç©ºæ•°æ®!&#34;</span>); <span style=color:#75715e>// âŒ ä½ çš„åº“ç”¨æˆ·ä¼šæ¨ä½ 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    data.len()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä½ çš„ç”¨æˆ·å¸Œæœ›å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯ä»¥å¤„ç†çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè®©æ•´ä¸ªç¨‹åºå´©æºƒçš„â€œæ ¸å¼¹â€ã€‚</p><p>å¤§ç¥æ“ä½œï¼š</p><p>æŠŠé€‰æ‹©æƒäº¤è¿˜ç»™ç”¨æˆ·ã€‚è¿”å›ä¸€ä¸ª Resultï¼Œè®©ä»–ä»¬è‡ªå·±å†³å®šè¯¥æ€ä¹ˆåŠã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>do_thing</span>(data: <span style=color:#66d9ef>&amp;</span><span style=color:#66d9ef>str</span>) -&gt; Result<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>usize</span>, <span style=color:#f92672>&amp;</span>&#39;static <span style=color:#66d9ef>str</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> data.is_empty() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Err(<span style=color:#e6db74>&#34;æ•°æ®ä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    Ok(data.len())
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™æ‰æ˜¯ä¸“ä¸šçš„åšæ³•ã€‚ä½ æä¾›äº†ä¸€ä¸ªç¨³å®šã€å¯é¢„æµ‹çš„å·¥å…·ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®šæ—¶ç‚¸å¼¹ã€‚</p><h2 id=ç¬¬äº”å¼åˆ†æ¸…-option-å’Œ-resultåšä¸ªä¿¡æ¯çµé€šçš„äºº>ç¬¬äº”å¼ï¼šåˆ†æ¸… Option å’Œ Resultï¼Œåšä¸ªä¿¡æ¯çµé€šçš„äºº<a hidden class=anchor aria-hidden=true href=#ç¬¬äº”å¼åˆ†æ¸…-option-å’Œ-resultåšä¸ªä¿¡æ¯çµé€šçš„äºº>#</a></h2><p>Option å’Œ Result çœ‹ç€åƒï¼Œä½†ç”¨é€”å¤©å·®åœ°åˆ«ã€‚ç”¨é”™åœ°æ–¹ï¼Œä½ ä¼šä¸¢å¤±å®è´µçš„é”™è¯¯ä¿¡æ¯ã€‚</p><p>Option å›ç­”çš„é—®é¢˜æ˜¯ï¼šâ€œæœ‰ï¼Œè¿˜æ˜¯æ²¡æœ‰ï¼Ÿâ€
Result å›ç­”çš„é—®é¢˜æ˜¯ï¼šâ€œæˆåŠŸäº†ï¼Œè¿˜æ˜¯å¤±è´¥äº†ï¼Ÿå¦‚æœå¤±è´¥äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿâ€</p><p>å½“ä½ åªéœ€è¦åˆ¤æ–­â€œç”¨æˆ·å­˜ä¸å­˜åœ¨â€æ—¶ï¼ŒOption å¯èƒ½å°±å¤Ÿäº†ã€‚ä½†å¦‚æœä½ æƒ³çŸ¥é“ç”¨æˆ·æ˜¯â€œæ²¡æ‰¾åˆ°â€è¿˜æ˜¯â€œæ•°æ®åº“å´©äº†â€ï¼ŒResult æ‰æ˜¯ä½ çš„ç­”æ¡ˆã€‚</p><p>é”™è¯¯ç¤ºèŒƒï¼ˆä¿¡æ¯ä¸¢å¤±ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>get_user</span>(id: <span style=color:#66d9ef>u8</span>) -&gt; Option<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> id <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        Some(<span style=color:#e6db74>&#34;Ibrahim&#34;</span>.into())
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        None <span style=color:#75715e>// âŒ ä¸ºä»€ä¹ˆæ˜¯ Noneï¼Ÿæ˜¯ç”¨æˆ·ä¸å­˜åœ¨è¿˜æ˜¯æ•°æ®åº“æŒ‚äº†ï¼Ÿå¤©çŸ¥é“ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¤§ç¥æ“ä½œï¼ˆä¿¡æ¯ä¸°å¯Œï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>get_user</span>(id: <span style=color:#66d9ef>u8</span>) -&gt; Result<span style=color:#f92672>&lt;</span>String, <span style=color:#f92672>&amp;</span>&#39;static <span style=color:#66d9ef>str</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> id <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        Ok(<span style=color:#e6db74>&#34;Ibrahim&#34;</span>.into())
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        Err(<span style=color:#e6db74>&#34;æŸ¥æ— æ­¤äºº&#34;</span>) <span style=color:#75715e>// âœ… æ¸…æ¸…æ¥šæ¥šï¼Œæ˜æ˜ç™½ç™½
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æ€»ç»“ï¼šä½ çš„â€œå°ç¥â€ä¹‹è·¯
å¥½äº†ï¼Œç§˜ç±å·²ç»ä¼ æˆç»™ä½ äº†ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹è¿™å¥—â€œç»„åˆæ‹³â€ï¼š</p><ul><li>å‘Šåˆ« unwrap()ï¼šæ‹¥æŠ± match å’Œ unwrap_orï¼Œåšä¸ªç¨³é‡çš„äººã€‚</li><li>å€¾å¬ç¼–è¯‘å™¨ï¼šæ­£è§†æ¯ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒæ˜¯ä½ æœ€å¿ è¯šçš„ä¼™ä¼´ã€‚</li><li>çˆ±ä¸Š ?ï¼šç”¨å®ƒæ¥ç®€åŒ–ä½ çš„é”™è¯¯ä¼ æ’­é€»è¾‘ï¼Œä»£ç ä¼˜é›…åº¦ç¬é—´æ‹‰æ»¡ã€‚</li><li>åº“é‡Œä¸ panic!ï¼šåšä¸ªæœ‰å…¬å¾·å¿ƒçš„å¼€å‘è€…ï¼Œè¿”å› Resultã€‚</li><li>åˆ†æ¸… Option/Resultï¼šå½“â€œä¸ºä»€ä¹ˆå¤±è´¥â€å¾ˆé‡è¦æ—¶ï¼Œæœæ–­é€‰æ‹© Resultã€‚</li></ul><p>æŒæ¡äº†è¿™äº›ï¼Œä½ å°±è¶…è¶Šäº† 90% çš„ Rust æ–°æ‰‹ã€‚ä½ çš„ä»£ç å°†ä¸å†æ˜¯é‚£ä¸ªéšæ—¶å¯èƒ½å´©æºƒçš„â€œç»ç’ƒå¤§ç‚®â€ï¼Œè€Œæ˜¯ä¸€ä»¶ç²¾é›•ç»†ç¢ã€ç¨³å®šå¯é çš„è‰ºæœ¯å“ã€‚</p><h2 id=å¸¸è§é—®é¢˜è§£ç­”-faq>å¸¸è§é—®é¢˜è§£ç­” (FAQ)<a hidden class=anchor aria-hidden=true href=#å¸¸è§é—®é¢˜è§£ç­”-faq>#</a></h2><h3 id=q1-rust-ä¸­çš„-unwrap-åˆ°åº•æœ‰ä»€ä¹ˆé£é™©>Q1: Rust ä¸­çš„ unwrap() åˆ°åº•æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#q1-rust-ä¸­çš„-unwrap-åˆ°åº•æœ‰ä»€ä¹ˆé£é™©>#</a></h3><p><strong>A:</strong> <code>unwrap()</code> åœ¨é‡åˆ° <code>None</code> æˆ– <code>Err</code> æ—¶ä¼šè§¦å‘ panicï¼Œå¯¼è‡´æ•´ä¸ªç¨‹åºå´©æºƒã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™ä¼šé€ æˆæœåŠ¡ä¸­æ–­ï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</p><h3 id=q2--æ“ä½œç¬¦å’Œ-unwrap-æœ‰ä»€ä¹ˆåŒºåˆ«>Q2: ? æ“ä½œç¬¦å’Œ unwrap() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#q2--æ“ä½œç¬¦å’Œ-unwrap-æœ‰ä»€ä¹ˆåŒºåˆ«>#</a></h3><p><strong>A:</strong> <code>?</code> æ“ä½œç¬¦ä¼šå°†é”™è¯¯è‡ªåŠ¨ä¼ æ’­ç»™è°ƒç”¨è€…ï¼Œè€Œ <code>unwrap()</code> ä¼šç›´æ¥å¯¼è‡´ panicã€‚<code>?</code> æ˜¯æ›´å®‰å…¨çš„é”™è¯¯å¤„ç†æ–¹å¼ã€‚</p><h3 id=q3-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨-option-è€Œä¸æ˜¯-result>Q3: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Option è€Œä¸æ˜¯ Resultï¼Ÿ<a hidden class=anchor aria-hidden=true href=#q3-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨-option-è€Œä¸æ˜¯-result>#</a></h3><p><strong>A:</strong> å½“ä½ åªéœ€è¦è¡¨ç¤º"æœ‰"æˆ–"æ²¡æœ‰"çš„æ¦‚å¿µæ—¶ä½¿ç”¨ Optionï¼›å½“ä½ éœ€è¦çŸ¥é“å…·ä½“çš„å¤±è´¥åŸå› æ—¶ä½¿ç”¨ Resultã€‚</p><h3 id=q4-rust-æœ‰æ²¡æœ‰ç±»ä¼¼-try-catch-çš„å¼‚å¸¸å¤„ç†æœºåˆ¶>Q4: Rust æœ‰æ²¡æœ‰ç±»ä¼¼ try-catch çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#q4-rust-æœ‰æ²¡æœ‰ç±»ä¼¼-try-catch-çš„å¼‚å¸¸å¤„ç†æœºåˆ¶>#</a></h3><p><strong>A:</strong> Rust æ²¡æœ‰ä¼ ç»Ÿçš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œè€Œæ˜¯ä½¿ç”¨ Result å’Œ Option ç±»å‹æ¥è¿›è¡Œé”™è¯¯å¤„ç†ï¼Œè¿™ç§æ–¹å¼æ›´å®‰å…¨ã€æ›´å¯æ§ã€‚</p><h3 id=q5-å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯>Q5: å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#q5-å¦‚ä½•åœ¨åº“ä¸­ä¼˜é›…åœ°å¤„ç†é”™è¯¯>#</a></h3><p><strong>A:</strong> åœ¨åº“ä»£ç ä¸­åº”è¯¥å§‹ç»ˆè¿”å› Result ç±»å‹ï¼Œè®©è°ƒç”¨è€…å†³å®šå¦‚ä½•å¤„ç†é”™è¯¯ï¼Œæ°¸è¿œä¸è¦ä½¿ç”¨ panic!ã€‚</p><h2 id=å»¶ä¼¸é˜…è¯»>å»¶ä¼¸é˜…è¯»<a hidden class=anchor aria-hidden=true href=#å»¶ä¼¸é˜…è¯»>#</a></h2><ul><li><a href=https://doc.rust-lang.org/book/ch09-00-error-handling.html>Rust å®˜æ–¹é”™è¯¯å¤„ç†æŒ‡å—</a></li><li><a href=https://rust-lang.github.io/api-guidelines/errors.html>Rust ä¸­çš„é”™è¯¯å¤„ç†æœ€ä½³å®è·µ</a></li><li><a href=https://nick.groenen.me/posts/rust-error-handling-anyhow-thiserror/>anyhow vs thiserror: Rust é”™è¯¯å¤„ç†åº“å¯¹æ¯”</a></li></ul><h2 id=æ€»ç»“ä½ çš„å°ç¥ä¹‹è·¯>æ€»ç»“ï¼šä½ çš„"å°ç¥"ä¹‹è·¯<a hidden class=anchor aria-hidden=true href=#æ€»ç»“ä½ çš„å°ç¥ä¹‹è·¯>#</a></h2><p>å¥½äº†ï¼Œç§˜ç±å·²ç»ä¼ æˆç»™ä½ äº†ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹è¿™å¥—"ç»„åˆæ‹³"ï¼š</p><ul><li><strong>å‘Šåˆ« unwrap()</strong>ï¼šæ‹¥æŠ± match å’Œ unwrap_orï¼Œåšä¸ªç¨³é‡çš„äººã€‚</li><li><strong>å€¾å¬ç¼–è¯‘å™¨</strong>ï¼šæ­£è§†æ¯ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒæ˜¯ä½ æœ€å¿ è¯šçš„ä¼™ä¼´ã€‚</li><li><strong>çˆ±ä¸Š ?</strong>ï¼šç”¨å®ƒæ¥ç®€åŒ–ä½ çš„é”™è¯¯ä¼ æ’­é€»è¾‘ï¼Œä»£ç ä¼˜é›…åº¦ç¬é—´æ‹‰æ»¡ã€‚</li><li><strong>åº“é‡Œä¸ panic!</strong>ï¼šåšä¸ªæœ‰å…¬å¾·å¿ƒçš„å¼€å‘è€…ï¼Œè¿”å› Resultã€‚</li><li><strong>åˆ†æ¸… Option/Result</strong>ï¼šå½“"ä¸ºä»€ä¹ˆå¤±è´¥"å¾ˆé‡è¦æ—¶ï¼Œæœæ–­é€‰æ‹© Resultã€‚</li></ul><p>æŒæ¡äº†è¿™äº›ï¼Œä½ å°±è¶…è¶Šäº† 90% çš„ Rust æ–°æ‰‹ã€‚ä½ çš„ä»£ç å°†ä¸å†æ˜¯é‚£ä¸ªéšæ—¶å¯èƒ½å´©æºƒçš„"ç»ç’ƒå¤§ç‚®"ï¼Œè€Œæ˜¯ä¸€ä»¶ç²¾é›•ç»†ç¢ã€ç¨³å®šå¯é çš„è‰ºæœ¯å“ã€‚</p><p>æƒ³è®©ä½ çš„ä»£ç ä¹Ÿå˜å¾—å¦‚æ­¤ä¼˜é›…ï¼Œç”šè‡³è®©åŒäº‹ä»¬éƒ½æ¥è¯·æ•™ä½ å—ï¼Ÿå…³æ³¨æ¢¦å…½ç¼–ç¨‹å¾®ä¿¡å…¬ä¼—å·ï¼Œè§£é”æ›´å¤šé»‘ç§‘æŠ€ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åœ¨ç¼–ç¨‹çš„é“è·¯ä¸Š"å†…å·"åˆ°åº•ï¼</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://rexai.top/tags/rust/>Rust</a></li><li><a href=https://rexai.top/tags/error-handling/>Error-Handling</a></li><li><a href=https://rexai.top/tags/tutorial/>Tutorial</a></li><li><a href=https://rexai.top/tags/best-practices/>Best-Practices</a></li><li><a href=https://rexai.top/tags/result/>Result</a></li><li><a href=https://rexai.top/tags/option/>Option</a></li><li><a href=https://rexai.top/tags/unwrap/>Unwrap</a></li><li><a href=https://rexai.top/tags/panic/>Panic</a></li><li><a href=https://rexai.top/tags/question-mark-operator/>Question-Mark-Operator</a></li></ul></footer></article></main><footer class=footer><span>Â© <a href=https://rexai.top/>æ¢¦å…½ç¼–ç¨‹</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>